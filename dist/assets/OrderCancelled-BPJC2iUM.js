import{T as _,a as y,b as C,c as g,d as c,e as D,f as o}from"./table-DQqYmbkR.js";import{r as s,a as e}from"./react-BM40__SY.js";import{_ as E,D as w,a as S,b,c as x,d as I,e as N}from"./index-fHwZLE-T.js";import{T as M}from"./sonner-UVoS8Wfh.js";import{w as k}from"./sonner-CBLC4ypc.js";import{P as G,a as $,b as n,c as R,d as u,e as v,f as L}from"./pagination-D2K3nF_G.js";import{E as U}from"./lucide-react-BWZ2dPnB.js";import{a as O}from"./react-router-DRLUvzUh.js";import"./attr-accept-CkmCM30I.js";import"./react-dom-BKOhnANa.js";import"./scheduler-C323NY8X.js";import"./@radix-ui-Bvz2HI7m.js";import"./react-remove-scroll-DR3rXkvR.js";import"./tslib-eMSY344_.js";import"./react-remove-scroll-bar-BhARyL5A.js";import"./react-style-singleton-DeLYGn6u.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-CISbmOY4.js";import"./use-callback-ref-Bp38XRF0.js";import"./aria-hidden-DQ5UC2Eg.js";import"./@floating-ui-DHl6l98I.js";import"./class-variance-authority-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-D696Ktp4.js";import"./react-google-recaptcha-C2_uU7Xm.js";import"./prop-types-DFk7-3jw.js";import"./react-async-script-BL5K2liq.js";import"./hoist-non-react-statics-CPzswhKp.js";import"./react-is-CnyDuYXe.js";import"./@hookform-D0jWCfUg.js";import"./react-hook-form-BN_naEWj.js";import"./yup-DazPcaNu.js";import"./property-expr-DwgEMw67.js";import"./tiny-case-Gl8mQWqo.js";import"./toposort-tjHGMS6M.js";import"./react-redux-DNfLtVbP.js";import"./use-sync-external-store-H6R0MgJP.js";import"./@reduxjs-DtXgGc0i.js";import"./redux-BXkGT1VS.js";import"./immer-DqxjFn0G.js";import"./redux-thunk-ClJT1hhx.js";import"./jwt-decode-VWaDGczM.js";import"./recharts-BSzae8HI.js";import"./lodash-DiYzGN5e.js";import"./tiny-invariant-BaFNuDhB.js";import"./d3-shape-nwul2LtV.js";import"./d3-path-CimkQT29.js";import"./react-smooth-DYD8lKML.js";import"./fast-equals-BIyco3rD.js";import"./victory-vendor-eFgrrWDw.js";import"./d3-scale-DCNNTN8k.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-g_qRI3rN.js";import"./d3-time-format-j2_s_XYn.js";import"./d3-time-g9mLz1m7.js";import"./d3-interpolate-CvRPKVI0.js";import"./d3-color-9lF95FHy.js";import"./d3-format-CzD4bSOQ.js";import"./recharts-scale-CEDTliZZ.js";import"./decimal.js-light-ZKFLnszB.js";import"./eventemitter3-BRe_pui0.js";import"./cookie--_YQFYBD.js";import"./next-themes-05dgSDaz.js";const B={page:1,limit:17},F=(t,l)=>{switch(l.type){case"FIRST_PAGE":return{...t,page:t.page=1};case"SET_PAGE_NUM":return{...t,page:l.payload};case"INC_PAGE":return{...t,page:t.page+1};case"DEC_PAGE":return{...t,page:t.page-1};case"SET_PAGE_LIMIT":return{...t,limit:l.payload};default:return t}},We=()=>{const[t,l]=s.useState(null),f=localStorage.getItem("AppID"),[r,m]=s.useReducer(F,B);return s.useEffect(()=>{(async()=>{try{const i=await fetch(`${E.BACKEND_URL}/api/admin/order-filter?filterBy=CANCELLATION_REQUESTED&page=${r.page}&limit=${r.limit}`,{method:"GET",headers:{"Content-type":"application/json",Authorization:`Bearer ${f}`}});i.ok||k.error("can't get orders data");const p=await i.json();l(p.responseData)}catch(i){console.log(i)}})()},[r.page,r.limit]),t&&!t.length?e.createElement("span",{className:"block lg:mt-20 text-center font-medium text-neutral-500"},"Oops! There's no data to show right now. It looks like no orders are available ðŸ˜Š"):e.createElement("div",{className:"w-full"},e.createElement(M,{richColors:!0}),e.createElement(_,null,e.createElement(y,null,"."),e.createElement(C,null,e.createElement(g,null,e.createElement(c,{className:"w-[300px]"},"Order Id"),e.createElement(c,null,"Status"),e.createElement(c,null,"Payment Method"),e.createElement(c,{className:"text-right"},"Amount"),e.createElement(c,{className:"text-right"},"Order Date"))),e.createElement(D,null,t&&t.map((a,i)=>{var d;const p=new Date(a.createdAt),h=String(p.getDate()).padStart(2,"0"),T=String(p.getMonth()+1).padStart(2,"0"),A=p.getFullYear(),P=`${h}/${T}/${A}`;return e.createElement(g,{key:a._id},e.createElement(o,{className:"font-medium"},e.createElement(O,{to:`${E&&E.APP_URL}/dashboard/order/${a&&a._id}`},a.orderId)),e.createElement(o,null,e.createElement("span",{className:"text-orange-500 font-semibold"},a.orderStatus)),e.createElement(o,null,a&&((d=a==null?void 0:a.payment)==null?void 0:d.method)),e.createElement(o,{className:"text-right"},a.totalAmount),e.createElement(o,{className:"text-right"},P),e.createElement(o,{className:"text-right"},e.createElement(w,null,e.createElement(S,null,e.createElement(U,null)),e.createElement(b,null,e.createElement(x,null,"Action"),e.createElement(I,null),e.createElement(N,{className:"cursor-pointer"},"View More"),e.createElement(N,{className:"text-red-400 hover:text-red-800 cursor-pointer"},"Delete")))))}))),t&&(t==null?void 0:t.length)>10?e.createElement(G,null,e.createElement($,null,e.createElement(n,null,e.createElement(R,{className:"cursor-pointer",onClick:()=>{(r==null?void 0:r.page)==1||m({type:"FIRST_PAGE"})}})),e.createElement(n,null,e.createElement(u,{className:"cursor-pointer",isActive:!0,onClick:()=>{m({type:"SET_PAGE_NUM",payload:1})}},"1")),e.createElement(n,null,e.createElement(u,{className:"cursor-pointer",isActive:!0,onClick:()=>{m({type:"SET_PAGE_NUM",payload:2})}},"2")),e.createElement(n,null,e.createElement(u,{className:"cursor-pointer",isActive:!0,onClick:()=>{m({type:"SET_PAGE_NUM",payload:3})}},"3")),e.createElement(n,null,e.createElement(v,null)),e.createElement(n,null,e.createElement(L,{className:"cursor-pointer",onClick:()=>{m({type:"INC_PAGE"})}})))):null)};export{We as default};
