import{r as f,a as d}from"./react-BM40__SY.js";import{r as Ot}from"./react-dom-BKOhnANa.js";function R(){return R=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},R.apply(null,arguments)}function Mt(e,n){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(n.includes(i))continue;r[i]=e[i]}return r}function Ie(e){var n=f.useRef({fn:e,curr:void 0}).current;if(n.fn=e,!n.curr){var r=Object.create(null);Object.keys(e).forEach(function(i){r[i]=function(){var o;return(o=n.fn[i]).call.apply(o,[n.fn].concat([].slice.call(arguments)))}}),n.curr=r}return n.curr}function bt(e){return f.useReducer(function(n,r){return R({},n,typeof r=="function"?r(n):r)},e)}var Ht=f.createContext(void 0),Vt="cubic-bezier(0.25, 0.8, 0.25, 1)",Ge=20,ge=typeof window<"u"&&"ontouchstart"in window,Yt=function(e,n,r){return Math.max(Math.min(e,r),n)},Ct=function(e,n,r){return n===void 0&&(n=0),r===void 0&&(r=0),Yt(e,1*(1-r),Math.max(6,n)*(1+r))},Xt=typeof window>"u"||/ServerSideRendering/.test(navigator&&navigator.userAgent)?f.useEffect:f.useLayoutEffect;function Je(e,n,r){var i=f.useRef(n);i.current=n,f.useEffect(function(){function o(c){i.current(c)}return e&&window.addEventListener(e,o,r),function(){e&&window.removeEventListener(e,o)}},[e])}var Bt=["container"];function zt(e){var n=e.container,r=n===void 0?document.body:n,i=Mt(e,Bt);return Ot.createPortal(d.createElement("div",R({},i)),r)}function jt(e){return d.createElement("svg",R({width:"44",height:"44",viewBox:"0 0 768 768"},e),d.createElement("path",{d:"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z"}))}function qt(e){return d.createElement("svg",R({width:"44",height:"44",viewBox:"0 0 768 768"},e),d.createElement("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"}))}function Kt(e){return d.createElement("svg",R({width:"44",height:"44",viewBox:"0 0 768 768"},e),d.createElement("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"}))}function Ut(){return f.useEffect(function(){var e=document.body.style,n=e.overflow;return e.overflow="hidden",function(){e.overflow=n}},[]),null}function At(e){var n=e.touches[0],r=n.clientX,i=n.clientY;if(e.touches.length>=2){var o=e.touches[1],c=o.clientX,u=o.clientY;return[(r+c)/2,(i+u)/2,Math.sqrt(Math.pow(c-r,2)+Math.pow(u-i,2))]}return[r,i,0]}var Re=function(e,n,r,i){var o,c=r*n,u=(c-i)/2,l=e;return c<=i?(o=1,l=0):e>0&&u-e<=0?(o=2,l=u):e<0&&u+e<=0&&(o=3,l=-u),[o,l]};function Rt(e,n,r,i,o,c,u,l,m,v){u===void 0&&(u=innerWidth/2),l===void 0&&(l=innerHeight/2),m===void 0&&(m=0),v===void 0&&(v=0);var h=Re(e,c,r,innerWidth)[0],w=Re(n,c,i,innerHeight),_=innerWidth/2,k=innerHeight/2;return{x:u-c/o*(u-(_+e))-_+(i/r>=3&&r*c===innerWidth?0:h?m/2:m),y:l-c/o*(l-(k+n))-k+(w[0]?v/2:v),lastCX:u,lastCY:l}}function Nt(e,n,r){var i=e%180!=0;return i?[r,n,i]:[n,r,i]}function _t(e,n,r){var i=Nt(r,innerWidth,innerHeight),o=i[0],c=i[1],u=0,l=o,m=c,v=e/n*c,h=n/e*o;return e<o&&n<c?(l=e,m=n):e<o&&n>=c?l=v:e>=o&&n<c||e/n>o/c?m=h:n/e>=3&&!i[2]?u=((m=h)-c)/2:l=v,{width:l,height:m,x:0,y:u,pause:!0}}function Et(e,n){var r=n.leading,i=r!==void 0&&r,o=n.maxWait,c=n.wait,u=c===void 0?o||0:c,l=f.useRef(e);l.current=e;var m=f.useRef(0),v=f.useRef(),h=function(){return v.current&&clearTimeout(v.current)},w=f.useCallback(function(){var _=[].slice.call(arguments),k=Date.now();function V(){m.current=k,h(),l.current.apply(null,_)}var b=m.current,C=k-b;if(b===0&&(i&&V(),m.current=k),o!==void 0){if(C>o)return void V()}else C<u&&(m.current=k);h(),v.current=setTimeout(function(){V(),m.current=0},u)},[u,o,i]);return w.cancel=h,w}var It=function(e,n,r){return Ae(e,n,r,100,function(i){return i},function(){return Ae(n,e,r)})},Gt=function(e){return 1-Math.pow(1-e,4)};function Ae(e,n,r,i,o,c){i===void 0&&(i=400),o===void 0&&(o=Gt);var u=n-e;if(u!==0){var l=Date.now(),m=0,v=function(){var w=Math.min(1,(Date.now()-l)/i);r(e+o(w)*u)&&w<1?h():(cancelAnimationFrame(m),w>=1&&c&&c())};h()}function h(){m=requestAnimationFrame(v)}}var Jt={T:0,L:0,W:0,H:0,FIT:void 0},Dt=function(){var e=f.useRef(!1);return f.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),e},Qt=["className"];function Zt(e){var n=e.className,r=n===void 0?"":n,i=Mt(e,Qt);return d.createElement("div",R({className:"PhotoView__Spinner "+r},i),d.createElement("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white"},d.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),d.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})))}var $t=["src","loaded","broken","className","onPhotoLoad","loadingElement","brokenElement"];function en(e){var n=e.src,r=e.loaded,i=e.broken,o=e.className,c=e.onPhotoLoad,u=e.loadingElement,l=e.brokenElement,m=Mt(e,$t),v=Dt();return n&&!i?d.createElement(d.Fragment,null,d.createElement("img",R({className:"PhotoView__Photo"+(o?" "+o:""),src:n,onLoad:function(h){var w=h.target;v.current&&c({loaded:!0,naturalWidth:w.naturalWidth,naturalHeight:w.naturalHeight})},onError:function(){v.current&&c({broken:!0})},draggable:!1,alt:""},m)),!r&&(u?d.createElement("span",{className:"PhotoView__icon"},u):d.createElement(Zt,{className:"PhotoView__icon"}))):l?d.createElement("span",{className:"PhotoView__icon"},typeof l=="function"?l({src:n}):l):null}var tn={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function nn(e){var n=e.item,r=n.src,i=n.render,o=n.width,c=o===void 0?0:o,u=n.height,l=u===void 0?0:u,m=n.originRef,v=e.visible,h=e.speed,w=e.easing,_=e.wrapClassName,k=e.className,V=e.style,b=e.loadingElement,C=e.brokenElement,Y=e.onPhotoTap,j=e.onMaskTap,Qe=e.onReachMove,Le=e.onReachUp,kt=e.onPhotoResize,H=e.isActive,pe=e.expose,ct=bt(tn),p=ct[0],E=ct[1],He=f.useRef(0),De=Dt(),lt=p.naturalWidth,ie=lt===void 0?c:lt,N=p.naturalHeight,W=N===void 0?l:N,Ze=p.width,q=Ze===void 0?c:Ze,st=p.height,we=st===void 0?l:st,$e=p.loaded,et=$e===void 0?!r:$e,_e=p.broken,D=p.x,ae=p.y,K=p.touched,Pt=p.stopRaf,xe=p.maskTouched,U=p.rotate,X=p.scale,ft=p.CX,Fe=p.CY,Ye=p.lastX,tt=p.lastY,y=p.lastCX,dt=p.lastCY,Z=p.lastScale,Xe=p.touchTime,vt=p.touchLength,G=p.pause,Ne=p.reach,nt=Ie({onScale:function(t){return oe(Ct(t))},onRotate:function(t){U!==t&&(pe({rotate:t}),E(R({rotate:t},_t(ie,W,t))))}});function oe(t,a,g){X!==t&&(pe({scale:t}),E(R({scale:t},Rt(D,ae,q,we,X,t,a,g),t<=1&&{x:0,y:0})))}var ht=Et(function(t,a,g){if(g===void 0&&(g=0),(K||xe)&&H){var ue=Nt(U,q,we),ce=ue[0],F=ue[1];if(g===0&&He.current===0){var I=Math.abs(t-ft)<=20,L=Math.abs(a-Fe)<=20;if(I&&L)return void E({lastCX:t,lastCY:a});He.current=I?a>Fe?3:2:1}var te,We=t-y,Ee=a-dt;if(g===0){var Se=Re(We+Ye,X,ce,innerWidth)[0],ze=Re(Ee+tt,X,F,innerHeight);te=function(be,se,fe,ne){return se&&be===1||ne==="x"?"x":fe&&be>1||ne==="y"?"y":void 0}(He.current,Se,ze[0],Ne),te!==void 0&&Qe(te,t,a,X)}if(te==="x"||xe)return void E({reach:"x"});var le=Ct(X+(g-vt)/100/2*X,ie/q,.2);pe({scale:le}),E(R({touchLength:g,reach:te,scale:le},Rt(D,ae,q,we,X,le,t,a,We,Ee)))}},{maxWait:8});function rt(t){return!Pt&&!K&&(De.current&&E(R({},t,{pause:v})),De.current)}var ye,$,Ce,it,mt,gt,pt,A,wt=(mt=function(t){return rt({x:t})},gt=function(t){return rt({y:t})},pt=function(t){return De.current&&(pe({scale:t}),E({scale:t})),!K&&De.current},A=Ie({X:function(t){return mt(t)},Y:function(t){return gt(t)},S:function(t){return pt(t)}}),function(t,a,g,ue,ce,F,I,L,te,We,Ee){var Se=Nt(We,ce,F),ze=Se[0],le=Se[1],be=Re(t,L,ze,innerWidth),se=be[0],fe=be[1],ne=Re(a,L,le,innerHeight),je=ne[0],yt=ne[1],qe=Date.now()-Ee;if(qe>=200||L!==I||Math.abs(te-I)>1){var Me=Rt(t,a,ce,F,I,L),de=Me.x,Te=Me.y,O=se?fe:de!==t?de:null,Ke=je?yt:Te!==a?Te:null;return O!==null&&Ae(t,O,A.X),Ke!==null&&Ae(a,Ke,A.Y),void(L!==I&&Ae(I,L,A.S))}var Ve=(t-g)/qe,ke=(a-ue)/qe,Pe=Math.sqrt(Math.pow(Ve,2)+Math.pow(ke,2)),ve=!1,he=!1;(function(J,S){var T,Q=J,me=0,B=0,Ue=function(ot){T||(T=ot);var ut=ot-T,Wt=Math.sign(J),St=-.001*Wt,Tt=Math.sign(-Q)*Math.pow(Q,2)*2e-4,Ft=Q*ut+(St+Tt)*Math.pow(ut,2)/2;me+=Ft,T=ot,Wt*(Q+=(St+Tt)*ut)<=0?z():S(me)?re():z()};function re(){B=requestAnimationFrame(Ue)}function z(){cancelAnimationFrame(B)}re()})(Pe,function(J){var S=t+J*(Ve/Pe),T=a+J*(ke/Pe),Q=Re(S,I,ze,innerWidth),me=Q[0],B=Q[1],Ue=Re(T,I,le,innerHeight),re=Ue[0],z=Ue[1];if(me&&!ve&&(ve=!0,se?Ae(S,B,A.X):It(B,S+(S-B),A.X)),re&&!he&&(he=!0,je?Ae(T,z,A.Y):It(z,T+(T-z),A.Y)),ve&&he)return!1;var ot=ve||A.X(B),ut=he||A.Y(z);return ot&&ut})}),Oe=(ye=Y,$=function(t,a){Ne||oe(X!==1?1:Math.max(2,ie/q),t,a)},Ce=f.useRef(0),it=Et(function(){Ce.current=0,ye.apply(void 0,[].slice.call(arguments))},{wait:300}),function(){var t=[].slice.call(arguments);Ce.current+=1,it.apply(void 0,t),Ce.current>=2&&(it.cancel(),Ce.current=0,$.apply(void 0,t))});function Be(t,a){if(He.current=0,(K||xe)&&H){E({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});var g=Ct(X,ie/q);if(wt(D,ae,Ye,tt,q,we,X,g,Z,U,Xe),Le(t,a),ft===t&&Fe===a){if(K)return void Oe(t,a);xe&&j(t,a)}}}function at(t,a,g){g===void 0&&(g=0),E({touched:!0,CX:t,CY:a,lastCX:t,lastCY:a,lastX:D,lastY:ae,lastScale:X,touchLength:g,touchTime:Date.now()})}function xt(t){E({maskTouched:!0,CX:t.clientX,CY:t.clientY,lastX:D,lastY:ae})}Je(ge?void 0:"mousemove",function(t){t.preventDefault(),ht(t.clientX,t.clientY)}),Je(ge?void 0:"mouseup",function(t){Be(t.clientX,t.clientY)}),Je(ge?"touchmove":void 0,function(t){t.preventDefault();var a=At(t);ht.apply(void 0,a)},{passive:!1}),Je(ge?"touchend":void 0,function(t){var a=t.changedTouches[0];Be(a.clientX,a.clientY)},{passive:!1}),Je("resize",Et(function(){et&&!K&&(E(_t(ie,W,U)),kt())},{maxWait:8})),Xt(function(){H&&pe(R({scale:X,rotate:U},nt))},[H]);var ee=function(t,a,g,ue,ce,F,I,L,te,We){var Ee=function(de,Te,O,Ke,Ve){var ke=f.useRef(!1),Pe=bt({lead:!0,scale:O}),ve=Pe[0],he=ve.lead,J=ve.scale,S=Pe[1],T=Et(function(Q){try{return Ve(!0),S({lead:!1,scale:Q}),Promise.resolve()}catch(me){return Promise.reject(me)}},{wait:Ke});return Xt(function(){ke.current?(Ve(!1),S({lead:!0}),T(O)):ke.current=!0},[O]),he?[de*J,Te*J,O/J]:[de*O,Te*O,1]}(F,I,L,te,We),Se=Ee[0],ze=Ee[1],le=Ee[2],be=function(de,Te,O,Ke,Ve){var ke=f.useState(Jt),Pe=ke[0],ve=ke[1],he=f.useState(0),J=he[0],S=he[1],T=f.useRef(),Q=Ie({OK:function(){return de&&S(4)}});function me(B){Ve(!1),S(B)}return f.useEffect(function(){if(T.current||(T.current=Date.now()),O){if(function(B,Ue){var re=B&&B.current;if(re&&re.nodeType===1){var z=re.getBoundingClientRect();Ue({T:z.top,L:z.left,W:z.width,H:z.height,FIT:re.tagName==="IMG"?getComputedStyle(re).objectFit:void 0})}}(Te,ve),de)return Date.now()-T.current<250?(S(1),requestAnimationFrame(function(){S(2),requestAnimationFrame(function(){return me(3)})}),void setTimeout(Q.OK,Ke)):void S(4);me(5)}},[de,O]),[J,Pe]}(t,a,g,te,We),se=be[0],fe=be[1],ne=fe.W,je=fe.FIT,yt=innerWidth/2,qe=innerHeight/2,Me=se<3||se>4;return[Me?ne?fe.L:yt:ue+(yt-F*L/2),Me?ne?fe.T:qe:ce+(qe-I*L/2),Se,Me&&je?Se*(fe.H/ne):ze,se===0?le:Me?ne/(F*L)||.01:le,Me?je?1:0:1,se,je]}(v,m,et,D,ae,q,we,X,h,function(t){return E({pause:t})}),s=ee[4],x=ee[6],P="transform "+h+"ms "+w,M={className:k,onMouseDown:ge?void 0:function(t){t.stopPropagation(),t.button===0&&at(t.clientX,t.clientY,0)},onTouchStart:ge?function(t){t.stopPropagation(),at.apply(void 0,At(t))}:void 0,onWheel:function(t){if(!Ne){var a=Ct(X-t.deltaY/100/2,ie/q);E({stopRaf:!0}),oe(a,t.clientX,t.clientY)}},style:{width:ee[2]+"px",height:ee[3]+"px",opacity:ee[5],objectFit:x===4?void 0:ee[7],transform:U?"rotate("+U+"deg)":void 0,transition:x>2?P+", opacity "+h+"ms ease, height "+(x<4?h/2:x>4?h:0)+"ms "+w:void 0}};return d.createElement("div",{className:"PhotoView__PhotoWrap"+(_?" "+_:""),style:V,onMouseDown:!ge&&H?xt:void 0,onTouchStart:ge&&H?function(t){return xt(t.touches[0])}:void 0},d.createElement("div",{className:"PhotoView__PhotoBox",style:{transform:"matrix("+s+", 0, 0, "+s+", "+ee[0]+", "+ee[1]+")",transition:K||G?void 0:P,willChange:H?"transform":void 0}},r?d.createElement(en,R({src:r,loaded:et,broken:_e},M,{onPhotoLoad:function(t){E(R({},t,t.loaded&&_t(t.naturalWidth||0,t.naturalHeight||0,U)))},loadingElement:b,brokenElement:C})):i&&i({attrs:M,scale:s,rotate:U})))}var Lt={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function rn(e){var n=e.loop,r=n===void 0?3:n,i=e.speed,o=e.easing,c=e.photoClosable,u=e.maskClosable,l=u===void 0||u,m=e.maskOpacity,v=m===void 0?1:m,h=e.pullClosable,w=h===void 0||h,_=e.bannerVisible,k=_===void 0||_,V=e.overlayRender,b=e.toolbarRender,C=e.className,Y=e.maskClassName,j=e.photoClassName,Qe=e.photoWrapClassName,Le=e.loadingElement,kt=e.brokenElement,H=e.images,pe=e.index,ct=pe===void 0?0:pe,p=e.onIndexChange,E=e.visible,He=e.onClose,De=e.afterClose,lt=e.portalContainer,ie=bt(Lt),N=ie[0],W=ie[1],Ze=f.useState(0),q=Ze[0],st=Ze[1],we=N.x,$e=N.touched,et=N.pause,_e=N.lastCX,D=N.lastCY,ae=N.bg,K=ae===void 0?v:ae,Pt=N.lastBg,xe=N.overlay,U=N.minimal,X=N.scale,ft=N.rotate,Fe=N.onScale,Ye=N.onRotate,tt=e.hasOwnProperty("index"),y=tt?ct:q,dt=tt?p:st,Z=f.useRef(y),Xe=H.length,vt=H[y],G=typeof r=="boolean"?r:Xe>r,Ne=function(s,x){var P=f.useReducer(function(g){return!g},!1)[1],M=f.useRef(0),t=function(g){var ue=f.useRef(g);function ce(F){ue.current=F}return f.useMemo(function(){(function(F){s?(F(s),M.current=1):M.current=2})(ce)},[g]),[ue.current,ce]}(s),a=t[1];return[t[0],M.current,function(){P(),M.current===2&&(a(!1),x&&x()),M.current=0}]}(E,De),nt=Ne[0],oe=Ne[1],ht=Ne[2];Xt(function(){if(nt)return W({pause:!0,x:y*-(innerWidth+Ge)}),void(Z.current=y);W(Lt)},[nt]);var rt=Ie({close:function(s){Ye&&Ye(0),W({overlay:!0,lastBg:K}),He(s)},changeIndex:function(s,x){x===void 0&&(x=!1);var P=G?Z.current+(s-y):s,M=Xe-1,t=Yt(P,0,M),a=G?P:t,g=innerWidth+Ge;W({touched:!1,lastCX:void 0,lastCY:void 0,x:-g*a,pause:x}),Z.current=a,dt&&dt(G?s<0?M:s>M?0:s:t)}}),ye=rt.close,$=rt.changeIndex;function Ce(s){return s?ye():W({overlay:!xe})}function it(){W({x:-(innerWidth+Ge)*y,lastCX:void 0,lastCY:void 0,pause:!0}),Z.current=y}function mt(s,x,P,M){s==="x"?function(t){if(_e!==void 0){var a=t-_e,g=a;!G&&(y===0&&a>0||y===Xe-1&&a<0)&&(g=a/2),W({touched:!0,lastCX:_e,x:-(innerWidth+Ge)*Z.current+g,pause:!1})}else W({touched:!0,lastCX:t,x:we,pause:!1})}(x):s==="y"&&function(t,a){if(D!==void 0){var g=v===null?null:Yt(v,.01,v-Math.abs(t-D)/100/4);W({touched:!0,lastCY:D,bg:a===1?g:v,minimal:a===1})}else W({touched:!0,lastCY:t,bg:K,minimal:!0})}(P,M)}function gt(s,x){var P=s-(_e??s),M=x-(D??x),t=!1;if(P<-40)$(y+1);else if(P>40)$(y-1);else{var a=-(innerWidth+Ge)*Z.current;Math.abs(M)>100&&U&&w&&(t=!0,ye()),W({touched:!1,x:a,lastCX:void 0,lastCY:void 0,bg:v,overlay:!!t||xe})}}Je("keydown",function(s){if(E)switch(s.key){case"ArrowLeft":$(y-1,!0);break;case"ArrowRight":$(y+1,!0);break;case"Escape":ye()}});var pt=function(s,x,P){return f.useMemo(function(){var M=s.length;return P?s.concat(s).concat(s).slice(M+x-1,M+x+2):s.slice(Math.max(x-1,0),Math.min(x+2,M+1))},[s,x,P])}(H,y,G);if(!nt)return null;var A=xe&&!oe,wt=E?K:Pt,Oe=Fe&&Ye&&{images:H,index:y,visible:E,onClose:ye,onIndexChange:$,overlayVisible:A,overlay:vt&&vt.overlay,scale:X,rotate:ft,onScale:Fe,onRotate:Ye},Be=i?i(oe):400,at=o?o(oe):Vt,xt=i?i(3):600,ee=o?o(3):Vt;return d.createElement(zt,{className:"PhotoView-Portal"+(A?"":" PhotoView-Slider__clean")+(E?"":" PhotoView-Slider__willClose")+(C?" "+C:""),role:"dialog",onClick:function(s){return s.stopPropagation()},container:lt},E&&d.createElement(Ut,null),d.createElement("div",{className:"PhotoView-Slider__Backdrop"+(Y?" "+Y:"")+(oe===1?" PhotoView-Slider__fadeIn":oe===2?" PhotoView-Slider__fadeOut":""),style:{background:wt?"rgba(0, 0, 0, "+wt+")":void 0,transitionTimingFunction:at,transitionDuration:($e?0:Be)+"ms",animationDuration:Be+"ms"},onAnimationEnd:ht}),k&&d.createElement("div",{className:"PhotoView-Slider__BannerWrap"},d.createElement("div",{className:"PhotoView-Slider__Counter"},y+1," / ",Xe),d.createElement("div",{className:"PhotoView-Slider__BannerRight"},b&&Oe&&b(Oe),d.createElement(jt,{className:"PhotoView-Slider__toolbarIcon",onClick:ye}))),pt.map(function(s,x){var P=G||y!==0?Z.current-1+x:y+x;return d.createElement(nn,{key:G?s.key+"/"+s.src+"/"+P:s.key,item:s,speed:Be,easing:at,visible:E,onReachMove:mt,onReachUp:gt,onPhotoTap:function(){return Ce(c)},onMaskTap:function(){return Ce(l)},wrapClassName:Qe,className:j,style:{left:(innerWidth+Ge)*P+"px",transform:"translate3d("+we+"px, 0px, 0)",transition:$e||et?void 0:"transform "+xt+"ms "+ee},loadingElement:Le,brokenElement:kt,onPhotoResize:it,isActive:Z.current===P,expose:W})}),!ge&&k&&d.createElement(d.Fragment,null,(G||y!==0)&&d.createElement("div",{className:"PhotoView-Slider__ArrowLeft",onClick:function(){return $(y-1,!0)}},d.createElement(qt,null)),(G||y+1<Xe)&&d.createElement("div",{className:"PhotoView-Slider__ArrowRight",onClick:function(){return $(y+1,!0)}},d.createElement(Kt,null))),V&&Oe&&d.createElement("div",{className:"PhotoView-Slider__Overlay"},V(Oe)))}var an=["children","onIndexChange","onVisibleChange"],on={images:[],visible:!1,index:0};function ln(e){var n=e.children,r=e.onIndexChange,i=e.onVisibleChange,o=Mt(e,an),c=bt(on),u=c[0],l=c[1],m=f.useRef(0),v=u.images,h=u.visible,w=u.index,_=Ie({nextId:function(){return m.current+=1},update:function(b){var C=v.findIndex(function(j){return j.key===b.key});if(C>-1){var Y=v.slice();return Y.splice(C,1,b),void l({images:Y})}l(function(j){return{images:j.images.concat(b)}})},remove:function(b){l(function(C){var Y=C.images.filter(function(j){return j.key!==b});return{images:Y,index:Math.min(Y.length-1,w)}})},show:function(b){var C=v.findIndex(function(Y){return Y.key===b});l({visible:!0,index:C}),i&&i(!0,C,u)}}),k=Ie({close:function(){l({visible:!1}),i&&i(!1,w,u)},changeIndex:function(b){l({index:b}),r&&r(b,u)}}),V=f.useMemo(function(){return R({},u,_)},[u,_]);return d.createElement(Ht.Provider,{value:V},n,d.createElement(rn,R({images:v,visible:h,index:w,onIndexChange:k.changeIndex,onClose:k.close},o)))}var sn=function(e){var n,r,i=e.src,o=e.render,c=e.overlay,u=e.width,l=e.height,m=e.triggers,v=m===void 0?["onClick"]:m,h=e.children,w=f.useContext(Ht),_=(n=function(){return w.nextId()},(r=f.useRef({sign:!1,fn:void 0}).current).sign||(r.sign=!0,r.fn=n()),r.fn),k=f.useRef(null);f.useImperativeHandle(h==null?void 0:h.ref,function(){return k.current}),f.useEffect(function(){return function(){w.remove(_)}},[]);var V=Ie({render:function(C){return o&&o(C)},show:function(C,Y){w.show(_),function(j,Qe){if(h){var Le=h.props[j];Le&&Le(Qe)}}(C,Y)}}),b=f.useMemo(function(){var C={};return v.forEach(function(Y){C[Y]=V.show.bind(null,Y)}),C},[]);return f.useEffect(function(){w.update({key:_,src:i,originRef:k,render:V.render,overlay:c,width:u,height:l})},[i]),h?f.Children.only(f.cloneElement(h,R({},b,{ref:k}))):null};export{ln as $,sn as e};
