import{r as E,a as e}from"./react-BM40__SY.js";import{T as h,b as D,c as N,d as i,e as P,f as c}from"./table-DQqYmbkR.js";import{T as w}from"./sonner-UVoS8Wfh.js";import{w as p}from"./sonner-CBLC4ypc.js";import{D as _,a as T,b as C,c as v,d as M,e as y,_ as u}from"./index-fHwZLE-T.js";import{P as k,a as S,b as a,c as G,d,e as I,f as L}from"./pagination-D2K3nF_G.js";import{o as $,E as z}from"./lucide-react-BWZ2dPnB.js";import{u as R,a as x}from"./react-router-DRLUvzUh.js";import{f as A}from"./date-fns-BZLmoul0.js";import"./attr-accept-CkmCM30I.js";import"./next-themes-05dgSDaz.js";import"./react-dom-BKOhnANa.js";import"./scheduler-C323NY8X.js";import"./@radix-ui-Bvz2HI7m.js";import"./react-remove-scroll-DR3rXkvR.js";import"./tslib-eMSY344_.js";import"./react-remove-scroll-bar-BhARyL5A.js";import"./react-style-singleton-DeLYGn6u.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-CISbmOY4.js";import"./use-callback-ref-Bp38XRF0.js";import"./aria-hidden-DQ5UC2Eg.js";import"./@floating-ui-DHl6l98I.js";import"./class-variance-authority-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-D696Ktp4.js";import"./react-google-recaptcha-C2_uU7Xm.js";import"./prop-types-DFk7-3jw.js";import"./react-async-script-BL5K2liq.js";import"./hoist-non-react-statics-CPzswhKp.js";import"./react-is-CnyDuYXe.js";import"./@hookform-D0jWCfUg.js";import"./react-hook-form-BN_naEWj.js";import"./yup-DazPcaNu.js";import"./property-expr-DwgEMw67.js";import"./tiny-case-Gl8mQWqo.js";import"./toposort-tjHGMS6M.js";import"./react-redux-DNfLtVbP.js";import"./use-sync-external-store-H6R0MgJP.js";import"./@reduxjs-DtXgGc0i.js";import"./redux-BXkGT1VS.js";import"./immer-DqxjFn0G.js";import"./redux-thunk-ClJT1hhx.js";import"./jwt-decode-VWaDGczM.js";import"./recharts-BSzae8HI.js";import"./lodash-DiYzGN5e.js";import"./tiny-invariant-BaFNuDhB.js";import"./d3-shape-nwul2LtV.js";import"./d3-path-CimkQT29.js";import"./react-smooth-DYD8lKML.js";import"./fast-equals-BIyco3rD.js";import"./victory-vendor-eFgrrWDw.js";import"./d3-scale-DCNNTN8k.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-g_qRI3rN.js";import"./d3-time-format-j2_s_XYn.js";import"./d3-time-g9mLz1m7.js";import"./d3-interpolate-CvRPKVI0.js";import"./d3-color-9lF95FHy.js";import"./d3-format-CzD4bSOQ.js";import"./recharts-scale-CEDTliZZ.js";import"./decimal.js-light-ZKFLnszB.js";import"./eventemitter3-BRe_pui0.js";import"./cookie--_YQFYBD.js";const U={page:1,limit:18},B=(l,m)=>{switch(m.type){case"FIRST_PAGE":return{...l,page:l.page=1};case"SET_PAGE_NUM":return{...l,page:m.payload};case"INC_PAGE":return{...l,page:l.page+1};case"DEC_PAGE":return{...l,page:l.page-1};case"SET_PAGE_LIMIT":return{...l,limit:m.payload};default:return l}},Xe=()=>{const[l,m]=E.useState([]),[o,s]=E.useReducer(B,U),f=R(),g=localStorage.getItem("AppID")||void 0,b=async t=>{if(t)try{const n=await(await fetch(`${u&&u.BACKEND_URL}/api/admin/areas-zone/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json",Accept:"application/json, application/xml"}})).json();n.success===!1&&p.error("Oops! Internal error please try again later."),n.success===!0&&(p.success("Successfully deleted."),f(0))}catch(r){console.log(r),p.error("Oops Internal error")}};return E.useEffect(()=>{(async()=>{try{const n=await(await fetch(`${u&&u.BACKEND_URL}/api/admin/areas-zone?page=${o==null?void 0:o.page}&limit=${o==null?void 0:o.limit}`,{method:"GET",headers:{Authorization:`Bearer ${g}`}})).json();(n==null?void 0:n.success)==!1&&p.error(n.msg),n.success===!0&&m(()=>n==null?void 0:n.responseData)}catch(r){console.log(r),p.error(r.message)}})()},[o]),l&&!l.length?e.createElement("span",{className:"block lg:mt-20 text-center font-medium text-neutral-500"},"Oops! No area zones have been added yet ðŸ˜Š"):e.createElement("div",null,e.createElement(w,{richColors:!0}),e.createElement("h1",{className:"border-b pb-3 pl-2 text-2xl font  capitalize mx-4 mt-2"},"Area zones"),e.createElement("div",{className:"px-4 mx-auto"},e.createElement(h,{className:"mt-8"},e.createElement(D,null,e.createElement(N,null,e.createElement(i,null,"Pincode"),e.createElement(i,null,"State"),e.createElement(i,null,"District"),e.createElement(i,null,"Date"),e.createElement(i,null,"Availability"))),e.createElement(P,null,l&&l.length?l.map(t=>e.createElement(N,{key:t==null?void 0:t._id},e.createElement(c,{className:"font-medium"},e.createElement("span",{className:"flex items-center gap-2"},e.createElement(x,{to:t==null?void 0:t._id,className:"text-slate-600 font-medium"},t==null?void 0:t.areaPinCode),e.createElement(x,{target:"_blank",to:`https://www.google.com/maps/search/${t==null?void 0:t.areaPinCode}`},e.createElement("span",{className:"text-[#4784ec]",title:"view on google map"},e.createElement($,{className:"size-4"}))))),e.createElement(c,{className:"text-slate-600 font-medium"},t==null?void 0:t.state),e.createElement(c,{className:"text-slate-600 font-medium"},t==null?void 0:t.district),e.createElement(c,null,e.createElement("span",{className:"flex gap-2"},e.createElement("span",{className:"font-medium text-slate-600"},A(new Date(t==null?void 0:t.startDate),"dd/MM/yyyy")),e.createElement("span",null,"-"),e.createElement("span",{className:"text-slate-600 font-medium"},A(new Date(t==null?void 0:t.endDate),"dd/MM/yyyy")))),e.createElement(c,{className:"text-slate-600 font-medium"},t!=null&&t.isAvailable?e.createElement("span",{className:"text-green-600"},"Available"):e.createElement("span",{className:"text-red-500"},"Not Available")),e.createElement("td",{className:"pl-4"},e.createElement(_,null,e.createElement(T,null,e.createElement(z,null)),e.createElement(C,null,e.createElement(v,null,"Action"),e.createElement(M,null),e.createElement(y,{className:" "},e.createElement("button",{className:"w-full text-left",onClick:()=>{f(`/dashboard/delivery-area-lists/${t==null?void 0:t._id}`)}},"Edit")),e.createElement(y,{className:" text-red-400 hover:text-red-800 cursor-pointer"},e.createElement("button",{className:"w-full text-left",onClick:()=>b(t==null?void 0:t._id)},"Delete"))))))):null))),l.length>=10?e.createElement(k,null,e.createElement(S,null,e.createElement(a,null,e.createElement(G,{className:"cursor-pointer",onClick:()=>{s({type:"DEC_PAGE"})}})),e.createElement(a,null,e.createElement(d,{className:"cursor-pointer",onClick:()=>{s({type:"SET_PAGE_NUM",payload:1})}},"1")),e.createElement(a,null,e.createElement(d,{className:"cursor-pointer",onClick:()=>{s({type:"SET_PAGE_NUM",payload:2})}},"2")),e.createElement(a,null,e.createElement(d,{className:"cursor-pointer",onClick:()=>{s({type:"SET_PAGE_NUM",payload:3})}},"3")),e.createElement(a,null,e.createElement(I,null)),e.createElement(a,null,e.createElement(L,{className:"cursor-pointer",onClick:t=>{s({type:"INC_PAGE"})}})))):null)};export{Xe as default};
