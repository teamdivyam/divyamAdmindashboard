import{a as e,r as m}from"./react-BM40__SY.js";import{a as E}from"./react-router-DRLUvzUh.js";import{_ as u}from"./index-fHwZLE-T.js";import{T as y,b,c as h,d as c,e as v,f as n}from"./table-DQqYmbkR.js";import{d as x}from"./react-detect-click-outside-DUcC8_xJ.js";import{k as A}from"./lucide-react-BWZ2dPnB.js";import"./attr-accept-CkmCM30I.js";import"./cookie--_YQFYBD.js";import"./react-dom-BKOhnANa.js";import"./scheduler-C323NY8X.js";import"./@radix-ui-Bvz2HI7m.js";import"./react-remove-scroll-DR3rXkvR.js";import"./tslib-eMSY344_.js";import"./react-remove-scroll-bar-BhARyL5A.js";import"./react-style-singleton-DeLYGn6u.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-CISbmOY4.js";import"./use-callback-ref-Bp38XRF0.js";import"./aria-hidden-DQ5UC2Eg.js";import"./@floating-ui-DHl6l98I.js";import"./class-variance-authority-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-D696Ktp4.js";import"./react-google-recaptcha-C2_uU7Xm.js";import"./prop-types-DFk7-3jw.js";import"./react-async-script-BL5K2liq.js";import"./hoist-non-react-statics-CPzswhKp.js";import"./react-is-CnyDuYXe.js";import"./@hookform-D0jWCfUg.js";import"./react-hook-form-BN_naEWj.js";import"./yup-DazPcaNu.js";import"./property-expr-DwgEMw67.js";import"./tiny-case-Gl8mQWqo.js";import"./toposort-tjHGMS6M.js";import"./react-redux-DNfLtVbP.js";import"./use-sync-external-store-H6R0MgJP.js";import"./@reduxjs-DtXgGc0i.js";import"./redux-BXkGT1VS.js";import"./immer-DqxjFn0G.js";import"./redux-thunk-ClJT1hhx.js";import"./jwt-decode-VWaDGczM.js";import"./sonner-CBLC4ypc.js";import"./recharts-BSzae8HI.js";import"./lodash-DiYzGN5e.js";import"./tiny-invariant-BaFNuDhB.js";import"./d3-shape-nwul2LtV.js";import"./d3-path-CimkQT29.js";import"./react-smooth-DYD8lKML.js";import"./fast-equals-BIyco3rD.js";import"./victory-vendor-eFgrrWDw.js";import"./d3-scale-DCNNTN8k.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-g_qRI3rN.js";import"./d3-time-format-j2_s_XYn.js";import"./d3-time-g9mLz1m7.js";import"./d3-interpolate-CvRPKVI0.js";import"./d3-color-9lF95FHy.js";import"./d3-format-CzD4bSOQ.js";import"./recharts-scale-CEDTliZZ.js";import"./decimal.js-light-ZKFLnszB.js";import"./eventemitter3-BRe_pui0.js";const S=({TextContent:r})=>e.createElement("div",{className:"flex justify-between items-center px-4 py-1 border-b"},e.createElement("div",{className:"flex gap-4"},e.createElement("img",{src:"https://i.pravatar.cc/300",className:"size-12 rounded-full"}),e.createElement("div",null,e.createElement("h2",{className:"font-medium text-gray-600 "},r==null?void 0:r.fullName),e.createElement("p",{className:"text-xs text-gray-400"},`${r.city} - ${r.address}`))),e.createElement(E,{to:"",className:"text-gray-500"},"View profile")),g=({SearchValue:r})=>{const[a,o]=m.useState(),p=localStorage.getItem("token");return m.useEffect(()=>{(async()=>{try{const d=await(await fetch(`${u.BACKEND_URL}/api/admin/search?s=${r}`,{method:"GET",Authorization:`Bearer ${p}`})).json();o(d)}catch(s){throw o([]),new Error(s)}})()},[]),e.createElement(e.Fragment,null,e.createElement("div",{className:"searchResultsContainer border  w-1/2 flex flex-col gap-3 h-[600px] overflow-y-auto rounded-sm bg-neutral-100 py-4 absolute z-30 shadow-md"},a&&a.length?a.map((l,s)=>e.createElement(S,{key:s,TextContent:l})):e.createElement("p",{className:"p-4"},"No records founds..")))},Le=()=>{m.useRef(null);const[r,a]=m.useState(!1),[o,p]=m.useState(""),[l,s]=m.useState(),d=()=>{a(!1)},f=x.useDetectClickOutside({onTriggered:d}),N=localStorage.getItem("AppID")||void 0;return m.useEffect(()=>{(async()=>{try{const i=await fetch(`${u&&u.BACKEND_URL}/api/admin/agents?page=1&limit=2`,{method:"GET",headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json",Accept:"application/json","Accept-Language":"en_US"}});if(!i.ok)throw new Error("Something went wrong..");const w=await i.json();a(!0),s(w)}catch(i){throw new Error(i)}})()},[]),e.createElement("div",{ref:f,className:"agentListWrapper mx-auto mt-4 px-4 py-2 shadow-md  border border-neutral-200"},e.createElement("div",{id:"search-bar"},e.createElement("form",{className:"flex"},e.createElement("input",{value:o,onChange:t=>{p(t.target.value),a(!0)},type:"search",placeholder:"Search delivery agents..",className:`bg-neutral-100 border p-2 rounded-sm w-full rounded-r-none
          transition-colors ease-in-out duration-200  text-neutral-500 focus:outline-none focus:border-orange-300
          `}),e.createElement("button",{className:"bg-orange-300 text-white rounded-md px-3 rounded-l-none"},e.createElement(A,null))),e.createElement("div",{id:"show-search-results",className:"mt-5 relative"},r&&o&&o.length>3?e.createElement(g,{SearchValue:o}):null)),e.createElement(y,null,e.createElement(b,null,e.createElement(h,null,e.createElement(c,{className:"w-[200px]"},"Name"),e.createElement(c,null,"City"),e.createElement(c,null,"Address"),e.createElement(c,{className:"text-right"},"Pin code"))),e.createElement(v,null,l&&l.map(t=>e.createElement(h,{key:t._id},e.createElement(n,{className:"font-medium"},e.createElement(E,{to:`/dashboard/delivery-agent/${t==null?void 0:t._id}`},t==null?void 0:t.fullName)),e.createElement(n,{className:"capitalize"},t==null?void 0:t.city),e.createElement(n,null,t==null?void 0:t.address),e.createElement(n,{className:"text-right"},t==null?void 0:t.pinCode))))))};export{Le as default};
