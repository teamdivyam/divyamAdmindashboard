import{r as c,a as e}from"./react-BM40__SY.js";import{w as N,X as y}from"./sonner-CBLC4ypc.js";import{_ as w,D as S,a as k,b as x,c as C,d as M,e as I}from"./index-fHwZLE-T.js";import{T as v,a as F,b as G,c as f,d as p,e as O,f as o}from"./table-DQqYmbkR.js";import{P as R,a as L,b as m,c as U,d as E,e as Y,f as B}from"./pagination-D2K3nF_G.js";import{h}from"./moment-CpqwY_VT.js";import{w as $,E as H}from"./lucide-react-BWZ2dPnB.js";import{a as D}from"./react-router-DRLUvzUh.js";import"./attr-accept-CkmCM30I.js";import"./react-dom-BKOhnANa.js";import"./scheduler-C323NY8X.js";import"./@radix-ui-Bvz2HI7m.js";import"./react-remove-scroll-DR3rXkvR.js";import"./tslib-eMSY344_.js";import"./react-remove-scroll-bar-BhARyL5A.js";import"./react-style-singleton-DeLYGn6u.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-CISbmOY4.js";import"./use-callback-ref-Bp38XRF0.js";import"./aria-hidden-DQ5UC2Eg.js";import"./@floating-ui-DHl6l98I.js";import"./class-variance-authority-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-D696Ktp4.js";import"./react-google-recaptcha-C2_uU7Xm.js";import"./prop-types-DFk7-3jw.js";import"./react-async-script-BL5K2liq.js";import"./hoist-non-react-statics-CPzswhKp.js";import"./react-is-CnyDuYXe.js";import"./@hookform-D0jWCfUg.js";import"./react-hook-form-BN_naEWj.js";import"./yup-DazPcaNu.js";import"./property-expr-DwgEMw67.js";import"./tiny-case-Gl8mQWqo.js";import"./toposort-tjHGMS6M.js";import"./react-redux-DNfLtVbP.js";import"./use-sync-external-store-H6R0MgJP.js";import"./@reduxjs-DtXgGc0i.js";import"./redux-BXkGT1VS.js";import"./immer-DqxjFn0G.js";import"./redux-thunk-ClJT1hhx.js";import"./jwt-decode-VWaDGczM.js";import"./recharts-BSzae8HI.js";import"./lodash-DiYzGN5e.js";import"./tiny-invariant-BaFNuDhB.js";import"./d3-shape-nwul2LtV.js";import"./d3-path-CimkQT29.js";import"./react-smooth-DYD8lKML.js";import"./fast-equals-BIyco3rD.js";import"./victory-vendor-eFgrrWDw.js";import"./d3-scale-DCNNTN8k.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-g_qRI3rN.js";import"./d3-time-format-j2_s_XYn.js";import"./d3-time-g9mLz1m7.js";import"./d3-interpolate-CvRPKVI0.js";import"./d3-color-9lF95FHy.js";import"./d3-format-CzD4bSOQ.js";import"./recharts-scale-CEDTliZZ.js";import"./decimal.js-light-ZKFLnszB.js";import"./eventemitter3-BRe_pui0.js";import"./cookie--_YQFYBD.js";const j={page:1,limit:16},z=(a,s)=>{switch(s.type){case"FIRST_PAGE":return{...a,page:a.page=1};case"SET_PAGE_NUM":return{...a,page:s.payload};case"INC_PAGE":return{...a,page:a.page+1};case"DEC_PAGE":return{...a,page:a.page-1};case"SET_PAGE_LIMIT":return{...a,limit:s.payload};default:return a}},at=()=>{const[a,s]=c.useState(null),[K,Q]=c.useState(!0),[r,T]=c.useState(null),[l,i]=c.useReducer(z,j),b=localStorage.getItem("AppID");c.useEffect(()=>{(async()=>{try{const t=await fetch(`${w.BACKEND_URL}/api/admin/orders?page=${l.page}&limit=${l.limit}`,{method:"GET",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}}),n=await t.json();t.ok||N.error("Can't able to fetch Orders"),console.log(n),T(n==null?void 0:n.orders)}catch(t){N.error(t)}})()},[l==null?void 0:l.page]);const _=t=>t==="Pending"?e.createElement(e.Fragment,null,e.createElement("span",{className:"text-yellow-700"},t)):t=="Success"||t=="Delivered"||t=="Shipped"||t=="Out for Delivery"?e.createElement(e.Fragment,null,e.createElement("span",{className:"text-green-500 "},t)):t=="Failed"||t=="Declined"?e.createElement(e.Fragment,null,e.createElement("span",{className:"text-red-500"},t)):t==="Processing"?e.createElement(e.Fragment,null,e.createElement("span",{className:"text-blue-500"},t)):t=="CANCELLATION_REQUESTED"||t==="REFUND_REQUESTED"?e.createElement(e.Fragment,null,e.createElement("span",{className:"text-yellow-700"},t)):e.createElement(e.Fragment,null,e.createElement("span",{className:"text-black font-bold"},t));return r&&!r.length?e.createElement("span",{className:"block lg:mt-20 text-center font-medium text-neutral-500"},"Oops! There's no data to show right now. It looks like no orders are available ðŸ˜Š"):e.createElement(e.Fragment,null,r&&e.createElement("div",{className:"w-full p-4"},e.createElement(y,{richColors:!0}),e.createElement(v,null,e.createElement(F,null,"."),e.createElement(G,null,e.createElement(f,null,e.createElement(p,{className:"w-[300px]"},"Order Id"),e.createElement(p,null,"Status"),e.createElement(p,null,"Booking Dates"),e.createElement(p,null,"Payment Method"),e.createElement(p,{className:"text-right"},"Amount"))),e.createElement(O,null,r&&r.length>0?r.map((t,n)=>{var u,g,d;const A=h((u=t.booking)==null?void 0:u.startDate).format("DD-MM-YYYY"),P=h((g=t.booking)==null?void 0:g.endDate).format("DD-MM-YYYY");return e.createElement(f,{key:n},e.createElement(o,{className:"font-medium"},e.createElement(D,{to:`/dashboard/order/${t._id}`},t.orderId.split("_").at(1))),e.createElement(o,null,_(t.orderStatus)),e.createElement(o,{className:""},e.createElement("div",{className:"flex gap-4 font-semibold text-neutral-500"},A," ",e.createElement($,{className:"text-neutral-400"})," ",P)),e.createElement(o,null,((d=t==null?void 0:t.transaction)==null?void 0:d.paymentMethod)||e.createElement("span",{className:"text-neutral-500"},"Not available")),e.createElement(o,{className:"text-right"},t==null?void 0:t.totalAmount),e.createElement(o,{className:"text-right"},e.createElement(S,null,e.createElement(k,null,e.createElement(H,null)),e.createElement(x,null,e.createElement(C,null,"Action"),e.createElement(M,null),e.createElement(I,{className:"cursor-pointer"},e.createElement(D,{to:`${t._id}`},"View More"))))))}):e.createElement("h1",null,"0 Orders available.."))),r&&r.length>10?e.createElement(R,null,e.createElement(L,null,e.createElement(m,null,e.createElement(U,{className:"cursor-pointer",onClick:()=>{(l==null?void 0:l.page)==1||i({type:"FIRST_PAGE"})}})),e.createElement(m,null,e.createElement(E,{className:"cursor-pointer",isActive:!0,onClick:()=>{i({type:"SET_PAGE_NUM",payload:1})}},"1")),e.createElement(m,null,e.createElement(E,{className:"cursor-pointer",isActive:!0,onClick:()=>{i({type:"SET_PAGE_NUM",payload:2})}},"2")),e.createElement(m,null,e.createElement(E,{className:"cursor-pointer",isActive:!0,onClick:()=>{i({type:"SET_PAGE_NUM",payload:3})}},"3")),e.createElement(m,null,e.createElement(Y,null)),e.createElement(m,null,e.createElement(B,{className:"cursor-pointer",onClick:()=>{i({type:"INC_PAGE"})}})))):null))};export{at as default};
