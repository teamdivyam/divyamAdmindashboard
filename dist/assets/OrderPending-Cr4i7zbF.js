import{T,a as y,b as A,c as d,d as i,e as _,f as r}from"./table-D59fVxqX.js";import{r as u,R as e,N as D,_ as E,D as w,b as C,c as S,d as b,e as x,f as g}from"./index-CqUjVgox.js";import{T as M}from"./sonner-iBYa7rjY.js";import{w as k}from"./index-DLdLSjkK.js";import{E as I,P as G,a as $,b as o,c as R,d as p,e as v,f as L}from"./pagination-CBf_EoO0.js";import"./chevron-left-Dv4wvR6C.js";const O={page:1,limit:17},U=(t,c)=>{switch(c.type){case"FIRST_PAGE":return{...t,page:t.page=1};case"SET_PAGE_NUM":return{...t,page:c.payload};case"INC_PAGE":return{...t,page:t.page+1};case"DEC_PAGE":return{...t,page:t.page-1};case"SET_PAGE_LIMIT":return{...t,limit:c.payload};default:return t}},z=()=>{const[t,c]=u.useState(null),N=localStorage.getItem("AppID"),[l,s]=u.useReducer(U,O);return u.useEffect(()=>{(async()=>{try{const n=await fetch(`${E.BACKEND_URL}/api/admin/order-filter?filterBy=Pending&page=${l.page}&limit=${l.limit}`,{method:"GET",headers:{"Content-type":"application/json",Authorization:`Bearer ${N}`}});n.ok||k.error("can't get orders data");const m=await n.json();c(m.responseData)}catch(n){console.log(n)}})()},[l.page,l.limit]),t&&!t.length?e.createElement("span",{className:"block lg:mt-20 text-center font-medium text-neutral-500"},"Oops! There's no data to show right now. It looks like no orders are available ðŸ˜Š"):e.createElement("div",{className:"w-full"},e.createElement(M,{richColors:!0}),e.createElement(T,null,e.createElement(y,null,"."),e.createElement(A,null,e.createElement(d,null,e.createElement(i,{className:"w-[300px]"},"Name"),e.createElement(i,null,"Order Status"),e.createElement(i,null,"Payment Method"),e.createElement(i,{className:"text-right"},"Amount"),e.createElement(i,{className:"text-right"},"Transaction Date"))),e.createElement(_,null,t&&t.map(a=>{const n=new Date(a.createdAt),m=String(n.getDate()).padStart(2,"0"),f=String(n.getMonth()+1).padStart(2,"0"),h=n.getFullYear(),P=`${m}/${f}/${h}`;return e.createElement(d,{key:a._id},e.createElement(r,{className:"font-medium"},e.createElement(D,{to:`${E&&E.BACKEND_URL}/dashboard/order/${a&&a._id}`},a.orderId)),e.createElement(r,null,e.createElement("span",{className:"text-orange-500 font-semibold"},a.orderStatus)),e.createElement(r,null,a.payment.method),e.createElement(r,{className:"text-right"},a.totalAmount),e.createElement(r,{className:"text-right"},P),e.createElement(r,{className:"text-right"},e.createElement(w,null,e.createElement(C,null,e.createElement(I,null)),e.createElement(S,null,e.createElement(b,null,"Action"),e.createElement(x,null),e.createElement(g,{className:"cursor-pointer"},"View More"),e.createElement(g,{className:"text-red-400 hover:text-red-800 cursor-pointer"},"Delete")))))}))),e.createElement(G,null,e.createElement($,null,e.createElement(o,null,e.createElement(R,{className:"cursor-pointer",onClick:()=>{(l==null?void 0:l.page)==1||s({type:"FIRST_PAGE"})}})),e.createElement(o,null,e.createElement(p,{className:"cursor-pointer",isActive:!0,onClick:()=>{s({type:"SET_PAGE_NUM",payload:1})}},"1")),e.createElement(o,null,e.createElement(p,{className:"cursor-pointer",isActive:!0,onClick:()=>{s({type:"SET_PAGE_NUM",payload:2})}},"2")),e.createElement(o,null,e.createElement(p,{className:"cursor-pointer",isActive:!0,onClick:()=>{s({type:"SET_PAGE_NUM",payload:3})}},"3")),e.createElement(o,null,e.createElement(v,null)),e.createElement(o,null,e.createElement(L,{className:"cursor-pointer",onClick:()=>{s({type:"INC_PAGE"})}})))))};export{z as default};
