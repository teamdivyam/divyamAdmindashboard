import{T as w,b as N,c as d,d as l,e as D,f as n}from"./table-DQqYmbkR.js";import{r as s,a as e}from"./react-BM40__SY.js";import{_ as u,D as y,a as A,b as T,c as _,d as b,e as C}from"./index-fHwZLE-T.js";import{T as x}from"./sonner-UVoS8Wfh.js";import{w as g}from"./sonner-CBLC4ypc.js";import{P as M,a as k,b as E,c as R,d as S,f as G}from"./pagination-D2K3nF_G.js";import{E as I}from"./lucide-react-BWZ2dPnB.js";import{a as f}from"./react-router-DRLUvzUh.js";import"./attr-accept-CkmCM30I.js";import"./react-dom-BKOhnANa.js";import"./scheduler-C323NY8X.js";import"./@radix-ui-Bvz2HI7m.js";import"./react-remove-scroll-DR3rXkvR.js";import"./tslib-eMSY344_.js";import"./react-remove-scroll-bar-BhARyL5A.js";import"./react-style-singleton-DeLYGn6u.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-CISbmOY4.js";import"./use-callback-ref-Bp38XRF0.js";import"./aria-hidden-DQ5UC2Eg.js";import"./@floating-ui-DHl6l98I.js";import"./class-variance-authority-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-D696Ktp4.js";import"./react-google-recaptcha-C2_uU7Xm.js";import"./prop-types-DFk7-3jw.js";import"./react-async-script-BL5K2liq.js";import"./hoist-non-react-statics-CPzswhKp.js";import"./react-is-CnyDuYXe.js";import"./@hookform-D0jWCfUg.js";import"./react-hook-form-BN_naEWj.js";import"./yup-DazPcaNu.js";import"./property-expr-DwgEMw67.js";import"./tiny-case-Gl8mQWqo.js";import"./toposort-tjHGMS6M.js";import"./react-redux-DNfLtVbP.js";import"./use-sync-external-store-H6R0MgJP.js";import"./@reduxjs-DtXgGc0i.js";import"./redux-BXkGT1VS.js";import"./immer-DqxjFn0G.js";import"./redux-thunk-ClJT1hhx.js";import"./jwt-decode-VWaDGczM.js";import"./recharts-BSzae8HI.js";import"./lodash-DiYzGN5e.js";import"./tiny-invariant-BaFNuDhB.js";import"./d3-shape-nwul2LtV.js";import"./d3-path-CimkQT29.js";import"./react-smooth-DYD8lKML.js";import"./fast-equals-BIyco3rD.js";import"./victory-vendor-eFgrrWDw.js";import"./d3-scale-DCNNTN8k.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-g_qRI3rN.js";import"./d3-time-format-j2_s_XYn.js";import"./d3-time-g9mLz1m7.js";import"./d3-interpolate-CvRPKVI0.js";import"./d3-color-9lF95FHy.js";import"./d3-format-CzD4bSOQ.js";import"./recharts-scale-CEDTliZZ.js";import"./decimal.js-light-ZKFLnszB.js";import"./eventemitter3-BRe_pui0.js";import"./cookie--_YQFYBD.js";import"./next-themes-05dgSDaz.js";const $={page:1,limit:10},L=(o,i)=>{switch(i.type){case"SET_PAGE":return{...o,page:i.payload};case"INC_PAGE":return{...o,page:o.page+1};case"DEC_PAGE":return{...o,page:Math.max(o.page-1,1)};default:return o}},ze=()=>{const[o,i]=s.useState([]),[p,h]=s.useState(1),P=localStorage.getItem("AppID"),[r,c]=s.useReducer(L,$);return s.useEffect(()=>{(async()=>{try{const a=await fetch(`${u.BACKEND_URL}/api/admin/order-filter?filterBy=Refunded&page=${r.page}&limit=${r.limit}`,{method:"GET",headers:{"Content-type":"application/json",Authorization:`Bearer ${P}`}});if(!a.ok){g.error("Can't get orders data");return}const m=await a.json();i(m.responseData),h(Math.ceil(m.responseData.length/r.limit))}catch(a){console.log(a),g.error("Failed to fetch data")}})()},[r.page,r.limit]),e.createElement("div",{className:"w-full"},e.createElement(x,{richColors:!0}),o.length===0?e.createElement("span",{className:"block lg:mt-20 text-center font-medium text-neutral-500"},"Oops! There's no data to show right now. ğŸ˜Š"):e.createElement(e.Fragment,null,e.createElement(w,null,e.createElement(N,null,e.createElement(d,null,e.createElement(l,{className:"w-[300px]"},"Order Id"),e.createElement(l,null,"Status"),e.createElement(l,null,"Payment Method"),e.createElement(l,{className:"text-right"},"Amount"),e.createElement(l,{className:"text-right"},"Order Date"))),e.createElement(D,null,o.map(t=>{var m;const a=new Date(t.createdAt).toLocaleDateString("en-GB");return e.createElement(d,{key:t._id},e.createElement(n,{className:"font-medium"},e.createElement(f,{to:`${u.APP_URL}/dashboard/order/${t._id}`},t.orderId)),e.createElement(n,null,e.createElement("span",{className:"text-orange-500 font-semibold"},t.orderStatus)),e.createElement(n,null,(m=t==null?void 0:t.transaction)==null?void 0:m.paymentMethod),e.createElement(n,{className:"text-right"},t.totalAmount),e.createElement(n,{className:"text-right"},a),e.createElement(n,{className:"text-right"},e.createElement(y,null,e.createElement(A,null,e.createElement(I,null)),e.createElement(T,null,e.createElement(_,null,"Action"),e.createElement(b,null),e.createElement(C,{className:"cursor-pointer"},e.createElement(f,{to:`${u.APP_URL}/dashboard/order/${t._id}`},"View More"))))))}))),p>1&&e.createElement(M,null,e.createElement(k,null,e.createElement(E,null,e.createElement(R,{className:r.page===1?"cursor-not-allowed opacity-50":"cursor-pointer",onClick:()=>r.page>1&&c({type:"DEC_PAGE"})})),[...Array(p)].map((t,a)=>e.createElement(E,{key:a},e.createElement(S,{className:"cursor-pointer",isActive:r.page===a+1,onClick:()=>c({type:"SET_PAGE",payload:a+1})},a+1))),e.createElement(E,null,e.createElement(G,{className:r.page===p?"cursor-not-allowed opacity-50":"cursor-pointer",onClick:()=>r.page<p&&c({type:"INC_PAGE"})}))))))};export{ze as default};
