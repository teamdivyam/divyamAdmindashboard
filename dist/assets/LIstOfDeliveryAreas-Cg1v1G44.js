import{r as E,u as h,R as e,N,D,b as P,c as w,d as _,e as T,f as y,_ as u}from"./index-CqUjVgox.js";import{T as C,b as M,c as x,d as m,e as v,f as i}from"./table-D59fVxqX.js";import{T as k}from"./sonner-iBYa7rjY.js";import{w as p}from"./index-DLdLSjkK.js";import{E as S,P as G,a as I,b as c,c as L,d,e as $,f as z}from"./pagination-CBf_EoO0.js";import{M as R}from"./map-pin-DxJRDjmM.js";import{f as A}from"./format-SmSpYad1.js";import"./chevron-left-Dv4wvR6C.js";const U={page:1,limit:18},B=(l,o)=>{switch(o.type){case"FIRST_PAGE":return{...l,page:l.page=1};case"SET_PAGE_NUM":return{...l,page:o.payload};case"INC_PAGE":return{...l,page:l.page+1};case"DEC_PAGE":return{...l,page:l.page-1};case"SET_PAGE_LIMIT":return{...l,limit:o.payload};default:return l}},Q=()=>{const[l,o]=E.useState([]),[a,r]=E.useReducer(B,U),f=h(),g=localStorage.getItem("AppID")||void 0,b=async t=>{if(t)try{const n=await(await fetch(`${u&&u.BACKEND_URL}/api/admin/areas-zone/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json",Accept:"application/json, application/xml"}})).json();n.success===!1&&p.error("Oops! Internal error please try again later."),n.success===!0&&(p.success("Successfully deleted."),f(0))}catch(s){console.log(s),p.error("Oops Internal error")}};return E.useEffect(()=>{(async()=>{try{const n=await(await fetch(`${u&&u.BACKEND_URL}/api/admin/areas-zone?page=${a==null?void 0:a.page}&limit=${a==null?void 0:a.limit}`,{method:"GET",headers:{Authorization:`Bearer ${g}`}})).json();(n==null?void 0:n.success)==!1&&p.error(n.msg),n.success===!0&&o(()=>n==null?void 0:n.responseData)}catch(s){console.log(s),p.error(s.message)}})()},[a]),l&&!l.length?e.createElement("span",{className:"block lg:mt-20 text-center font-medium text-neutral-500"},"Oops! No area zones have been added yet ðŸ˜Š"):e.createElement("div",null,e.createElement(k,{richColors:!0}),e.createElement("h1",{className:"border-b pb-3 pl-2 text-2xl font  capitalize mx-4 mt-2"},"Area zones"),e.createElement("div",{className:"px-4 mx-auto"},e.createElement(C,{className:"mt-8"},e.createElement(M,null,e.createElement(x,null,e.createElement(m,null,"Pincode"),e.createElement(m,null,"State"),e.createElement(m,null,"District"),e.createElement(m,null,"Date"),e.createElement(m,null,"Availability"))),e.createElement(v,null,l&&l.length?l.map(t=>e.createElement(x,{key:t==null?void 0:t._id},e.createElement(i,{className:"font-medium"},e.createElement("span",{className:"flex items-center gap-2"},e.createElement(N,{to:t==null?void 0:t._id,className:"text-slate-600 font-medium"},t==null?void 0:t.areaPinCode),e.createElement(N,{target:"_blank",to:`https://www.google.com/maps/search/${t==null?void 0:t.areaPinCode}`},e.createElement("span",{className:"text-[#4784ec]",title:"view on google map"},e.createElement(R,{className:"size-4"}))))),e.createElement(i,{className:"text-slate-600 font-medium"},t==null?void 0:t.state),e.createElement(i,{className:"text-slate-600 font-medium"},t==null?void 0:t.district),e.createElement(i,null,e.createElement("span",{className:"flex gap-2"},e.createElement("span",{className:"font-medium text-slate-600"},A(new Date(t==null?void 0:t.startDate),"dd/MM/yyyy")),e.createElement("span",null,"-"),e.createElement("span",{className:"text-slate-600 font-medium"},A(new Date(t==null?void 0:t.endDate),"dd/MM/yyyy")))),e.createElement(i,{className:"text-slate-600 font-medium"},t!=null&&t.isAvailable?e.createElement("span",{className:"text-green-600"},"Available"):e.createElement("span",{className:"text-red-500"},"Not Available")),e.createElement("td",{className:"pl-4"},e.createElement(D,null,e.createElement(P,null,e.createElement(S,null)),e.createElement(w,null,e.createElement(_,null,"Action"),e.createElement(T,null),e.createElement(y,{className:" "},e.createElement("button",{className:"w-full text-left",onClick:()=>{f(`/dashboard/delivery-area-lists/${t==null?void 0:t._id}`)}},"Edit")),e.createElement(y,{className:" text-red-400 hover:text-red-800 cursor-pointer"},e.createElement("button",{className:"w-full text-left",onClick:()=>b(t==null?void 0:t._id)},"Delete"))))))):null))),l.length>=10?e.createElement(G,null,e.createElement(I,null,e.createElement(c,null,e.createElement(L,{className:"cursor-pointer",onClick:()=>{r({type:"DEC_PAGE"})}})),e.createElement(c,null,e.createElement(d,{className:"cursor-pointer",onClick:()=>{r({type:"SET_PAGE_NUM",payload:1})}},"1")),e.createElement(c,null,e.createElement(d,{className:"cursor-pointer",onClick:()=>{r({type:"SET_PAGE_NUM",payload:2})}},"2")),e.createElement(c,null,e.createElement(d,{className:"cursor-pointer",onClick:()=>{r({type:"SET_PAGE_NUM",payload:3})}},"3")),e.createElement(c,null,e.createElement($,null)),e.createElement(c,null,e.createElement(z,{className:"cursor-pointer",onClick:t=>{r({type:"INC_PAGE"})}})))):null)};export{Q as default};
