import{r,a as e}from"./react-BM40__SY.js";import{_ as l,B}from"./index-fHwZLE-T.js";import{B as y}from"./badge-DAiYVQtE.js";import{O as _}from"./OrderedProduct-DU2Y6jiO.js";import{l as I}from"./react-to-print-DrcCEwiO.js";import{M}from"./Modal-aaWU-vqU.js";import{L as O}from"./Loader-CZaHulb3.js";import{m as f}from"./moment-CpqwY_VT.js";import{X as C,v as P,p as R,m as z,I as S,w as Y}from"./lucide-react-BWZ2dPnB.js";import{d as j,a as A}from"./react-router-DRLUvzUh.js";import"./attr-accept-CkmCM30I.js";import"./react-dom-BKOhnANa.js";import"./scheduler-C323NY8X.js";import"./@radix-ui-Bvz2HI7m.js";import"./react-remove-scroll-DR3rXkvR.js";import"./tslib-eMSY344_.js";import"./react-remove-scroll-bar-BhARyL5A.js";import"./react-style-singleton-DeLYGn6u.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-CISbmOY4.js";import"./use-callback-ref-Bp38XRF0.js";import"./aria-hidden-DQ5UC2Eg.js";import"./@floating-ui-DHl6l98I.js";import"./class-variance-authority-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-D696Ktp4.js";import"./react-google-recaptcha-C2_uU7Xm.js";import"./prop-types-DFk7-3jw.js";import"./react-async-script-BL5K2liq.js";import"./hoist-non-react-statics-CPzswhKp.js";import"./react-is-CnyDuYXe.js";import"./@hookform-D0jWCfUg.js";import"./react-hook-form-BN_naEWj.js";import"./yup-DazPcaNu.js";import"./property-expr-DwgEMw67.js";import"./tiny-case-Gl8mQWqo.js";import"./toposort-tjHGMS6M.js";import"./react-redux-DNfLtVbP.js";import"./use-sync-external-store-H6R0MgJP.js";import"./@reduxjs-DtXgGc0i.js";import"./redux-BXkGT1VS.js";import"./immer-DqxjFn0G.js";import"./redux-thunk-ClJT1hhx.js";import"./jwt-decode-VWaDGczM.js";import"./sonner-CBLC4ypc.js";import"./recharts-BSzae8HI.js";import"./lodash-DiYzGN5e.js";import"./tiny-invariant-BaFNuDhB.js";import"./d3-shape-nwul2LtV.js";import"./d3-path-CimkQT29.js";import"./react-smooth-DYD8lKML.js";import"./fast-equals-BIyco3rD.js";import"./victory-vendor-eFgrrWDw.js";import"./d3-scale-DCNNTN8k.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-g_qRI3rN.js";import"./d3-time-format-j2_s_XYn.js";import"./d3-time-g9mLz1m7.js";import"./d3-interpolate-CvRPKVI0.js";import"./d3-color-9lF95FHy.js";import"./d3-format-CzD4bSOQ.js";import"./recharts-scale-CEDTliZZ.js";import"./decimal.js-light-ZKFLnszB.js";import"./eventemitter3-BRe_pui0.js";import"./cookie--_YQFYBD.js";import"./react-modal-Cc-lLjh3.js";import"./warning-5T6J0T5c.js";import"./exenv-BS7ugsZD.js";import"./react-lifecycles-compat-CbhsFY8R.js";const tt=()=>{var d,b,u,g,E,w,x;const[h,n]=r.useState(!0),[t,v]=r.useState(null),{ORDER_ID:o}=j(),[c,i]=r.useState(),p=r.useRef(null);if(!o)return;const k=localStorage.getItem("AppID"),D=I.useReactToPrint({contentRef:p,documentTitle:"Order-Info",bodyClass:"react-pdf-print-document-width-full"}),$=()=>{var m,N;const a=f((m=t.booking)==null?void 0:m.startDate).format("DD-MM-YYYY"),s=f((N=t.booking)==null?void 0:N.endDate).format("DD-MM-YYYY");return e.createElement("div",{className:"flex gap-4"},a," ",e.createElement(Y,{className:"text-neutral-400"}),s)};return r.useEffect(()=>{(async()=>{try{const m=await(await fetch(`${l.BACKEND_URL}/api/admin/order/${o}`,{method:"GET",headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"}})).json();v(m.Order),setTimeout(()=>{n(!1)},600)}catch(s){n(!0),console.log(s)}})()},[]),e.createElement(e.Fragment,null,c&&e.createElement(M,{isModalOpen:c,id:"img_viewer"},e.createElement("div",{className:"modal__container w-[300px] p-4"},e.createElement("div",{className:"modal__header border-b flex justify-end"},e.createElement("button",{onClick:()=>{i(a=>!a)}},e.createElement(C,{className:"text-slate-700 "}))),e.createElement("div",{className:"modal__body"},e.createElement("img",{src:`${l.IMAGE_CDN}/Uploads/users/${t.customer.avatar}`,className:"object-cover"})))),h?e.createElement(O,null):e.createElement(e.Fragment,null,e.createElement("div",{id:"order-wrapper"},e.createElement("div",{className:"bg-neutral-100 rounded-lg border p-6 mx-auto w-1/2 dark:bg-slate-500",id:"oderPreview"},e.createElement("div",{ref:p,id:"container-wrapper"},e.createElement("div",{className:"cardHeader flex justify-between"},e.createElement(y,{variant:"destructive",className:"bg-orange-400 hover:bg-orange-500 ease-in transition-colors cursor-pointer orderIdBadge"},t&&` OrderID: ${t.orderId}`),e.createElement("div",{className:"flex gap-2 "},e.createElement(y,{variant:"destructive",className:"bg-white text-neutral-500 hover:bg-white orderStatusBadge"},e.createElement("span",{className:"inline-block rounded-full  text-neutral-400 text-sm font-normal  capitalize "},t&&t.orderStatus)),e.createElement(A,{to:`/dashBoard/edit-order/${o}`,className:`bg-orange-400 text-neutral-500 text-sm rounded-md p-1
                  edit-order-icon
                  `,title:"edit order status"},e.createElement(P,{className:"size-6 p-1 text-white edit-order-icon"})))),e.createElement("div",{className:"cardBody bg-white rounded-md border  dark:border-gray-400 p-6 mt-6 dark:bg-slate-400"},e.createElement("div",{className:"products mb-4  product-card "},t&&e.createElement(_,{Product:t.product}))),e.createElement("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto"},e.createElement("div",{className:"inline-block min-w-full shadow-sm rounded-sm overflow-hidden"},e.createElement("table",{className:"min-w-full leading-normal"},e.createElement("tbody",null,e.createElement("tr",null,e.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},e.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},"Name:")),e.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},e.createElement("p",{className:"text-gray-400 whitespace-no-wrap"},e.createElement("span",{className:"flex items-center gap-2"},((d=t==null?void 0:t.customer)==null?void 0:d.avatar)&&e.createElement("img",{src:`${l.IMAGE_CDN}/Uploads/users/${((b=t==null?void 0:t.customer)==null?void 0:b.avatar)||null}`,className:"size-7 rounded-full shadow-sm",onClick:()=>{i(a=>!a)}}),((u=t==null?void 0:t.customer)==null?void 0:u.fullName)||e.createElement("span",null,"Not available"))))),e.createElement("tr",null,e.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},e.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},"Booking Date:")),e.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},e.createElement("p",{className:"text-gray-400 whitespace-no-wrap"},$()))),e.createElement("tr",null,e.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},e.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},"Payment mode:")),e.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},e.createElement("p",{className:"text-gray-400 whitespace-no-wrap"},e.createElement("div",{className:"flex gap-1"},((g=t==null?void 0:t.transaction)==null?void 0:g.paymentMethod)||"Not available",((E=t==null?void 0:t.transaction)==null?void 0:E.status)=="success"?e.createElement(R,{className:"text-green-500 bg-neutral-100 rounded-full p-1"}):null)))),e.createElement("tr",null,e.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},e.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},"Order status")),e.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},e.createElement("p",{className:"text-gray-400 whitespace-no-wrap"},t&&t.orderStatus))),e.createElement("tr",null,e.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},e.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},"Email:")),e.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},e.createElement("p",{className:"text-gray-400 whitespace-no-wrap"},((w=t==null?void 0:t.customer)==null?void 0:w.email)||"not available"))),e.createElement("tr",null,e.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},e.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},"Address:")),e.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},e.createElement("p",{className:"text-gray-400 whitespace-no-wrap"},`${t.booking.address.area}  ${t.booking.address.city} ${t.booking.address.state} 
                             ${t.booking.address.pinCode} Landmark : ${t.booking.address.landMark}`,e.createElement("span",{className:"flex items-center mt-2"},e.createElement("span",{className:"flex justify-center items-center bg-blue-500 size-5  rounded-full w-[300]"},e.createElement(z,{className:"text-white ",size:10})),e.createElement("span",{className:"ml-2"},t.booking.address.contactNumber))))),e.createElement("tr",null,e.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},e.createElement("p",{className:"text-gray-900 whitespace-no-wrap font-semibold"},"Total Amount:")),e.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},e.createElement("p",{className:"text-gray-800 whitespace-no-wrap font-semibold"},e.createElement("span",{className:"flex items-center"},e.createElement(S,{className:"size-4"})," ",t&&((x=t==null?void 0:t.transaction)==null?void 0:x.amount)))))))))),e.createElement("div",{className:"w-full flex justify-end"},e.createElement(B,{className:"w-40 uppercase transition-colors duration-150 ease-in bg-amber-600 font-semibold tracking-widest ",onClick:D},"Print Now"))))))};export{tt as default};
