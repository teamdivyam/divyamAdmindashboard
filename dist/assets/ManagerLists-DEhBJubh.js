import{r,R as e,N as d,D as b,b as P,c as w,d as x,e as D,f as M,_ as C}from"./index-CqUjVgox.js";import{E as v,P as G,a as I,b as c,c as k,d as p,e as R,f as $}from"./pagination-CBf_EoO0.js";import{S as L,a as U,b as F,c as j,d as N}from"./select-BL-mDBSJ.js";import{T as V,b as B,c as S,d as E,e as H,f as m}from"./table-D59fVxqX.js";import"./chevron-left-Dv4wvR6C.js";import"./index-D5qU_uVB.js";import"./chevron-up-yYAkaWBY.js";const K={page:1,limit:18},O=(t,s)=>{switch(s.type){case"FIRST_PAGE":return{...t,page:t.page=1};case"SET_PAGE_NUM":return{...t,page:s.payload};case"INC_PAGE":return{...t,page:t.page+1};case"DEC_PAGE":return{...t,page:t.page-1};case"SET_PAGE_LIMIT":return{...t,limit:s.payload};default:return t}},te=()=>{const[t,s]=r.useState(null),[z,g]=r.useState(!1),[J,A]=r.useState(!0),f=localStorage.getItem("AppID"),[l,o]=r.useReducer(O,K),[i,T]=r.useState("manager");return r.useEffect(()=>{(async()=>{try{const n=await fetch(`${C.BACKEND_URL}/api/admin/employees?role=${i}&page=${l.page}&limit=${l.limit}`,{method:"GET",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json",Accept:"application/json, application/xml","Accept-Language":"en_US"}});n.ok||g(!0);const u=await n.json();u&&s(u)}catch{g(!0),A(!0)}})()},[i,l.page]),e.createElement("div",{className:"EmployeeLists max-w-[1200px] mx-auto"},e.createElement("div",{className:"flex gap-4 justify-end mb-4"},e.createElement(L,{className:"bg-yellow-300",value:i,onValueChange:a=>{T(a)}},e.createElement(U,{className:"w-[180px] bg-orange-100 border-none shadow-none text-gray-700"},e.createElement(F,{placeholder:"Select employee"})),e.createElement(j,null,e.createElement(N,{value:"manager"},"Manager"),e.createElement(N,{value:"supervisor"},"Supervisor")))),t&&!t.length?e.createElement("div",{className:"text-center block mt-12 font-medium text-neutral-400"},`Oops! There are no ${i} yet. Try adding one`):e.createElement(e.Fragment,null,e.createElement(V,null,e.createElement(B,null,e.createElement(S,null,e.createElement(E,{className:"w-[300px]"},"Manager Name"),e.createElement(E,null,"Mobile number"),e.createElement(E,null,"Gender"),e.createElement(E,{className:"text-right"},"Joined date"))),e.createElement(H,null,t&&t.length>0?t.map(a=>{const n=new Date(a.createdAt),u=String(n.getDate()).padStart(2,"0"),h=String(n.getMonth()+1).padStart(2,"0"),_=n.getFullYear(),y=`${u}/${h}/${_}`;return e.createElement(S,{key:a._id},e.createElement(m,{className:"font-medium"},e.createElement(d,{to:`${a._id}`},e.createElement("span",null," ",a.fullName))),e.createElement(m,null,e.createElement("span",null,a.mobileNum)),e.createElement(m,{className:"text-left"},e.createElement("span",null,a.gender)),e.createElement(m,{className:"text-right"},e.createElement("span",null," ",y)),e.createElement(m,{className:"text-right"},e.createElement(b,null,e.createElement(P,null,e.createElement(v,null)),e.createElement(w,null,e.createElement(x,null,"Action"),e.createElement(D,null),e.createElement(M,{className:"cursor-pointer"},e.createElement(d,{to:a.id},"View More"))))))}):null))),t&&t.length>10?e.createElement(e.Fragment,null,e.createElement(G,null,e.createElement(I,null,e.createElement(c,null,e.createElement(k,{className:"cursor-pointer",onClick:()=>{(l==null?void 0:l.page)==1||o({type:"FIRST_PAGE"})}})),e.createElement(c,null,e.createElement(p,{className:"cursor-pointer",isActive:!0,onClick:()=>{o({type:"SET_PAGE_NUM",payload:1})}},"1")),e.createElement(c,null,e.createElement(p,{className:"cursor-pointer",isActive:!0,onClick:()=>{o({type:"SET_PAGE_NUM",payload:2})}},"2")),e.createElement(c,null,e.createElement(p,{className:"cursor-pointer",isActive:!0,onClick:()=>{o({type:"SET_PAGE_NUM",payload:3})}},"3")),e.createElement(c,null,e.createElement(R,null)),e.createElement(c,null,e.createElement($,{className:"cursor-pointer",onClick:()=>{o({type:"INC_PAGE"})}}))))):null)};export{te as default};
