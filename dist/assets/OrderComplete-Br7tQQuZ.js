import{T as y,a as A,b as _,c as d,d as i,e as w,f as l}from"./table-D59fVxqX.js";import{r as u,R as e,N as D,_ as E,D as C,b as S,c as b,d as x,e as M,f as g}from"./index-CqUjVgox.js";import{T as I}from"./sonner-iBYa7rjY.js";import{E as k,P as G,a as $,b as r,c as R,d as p,e as v,f as O}from"./pagination-CBf_EoO0.js";import{w as L}from"./index-DLdLSjkK.js";import"./chevron-left-Dv4wvR6C.js";const U={page:1,limit:17},B=(t,o)=>{switch(o.type){case"FIRST_PAGE":return{...t,page:t.page=1};case"SET_PAGE_NUM":return{...t,page:o.payload};case"INC_PAGE":return{...t,page:t.page+1};case"DEC_PAGE":return{...t,page:t.page-1};case"SET_PAGE_LIMIT":return{...t,limit:o.payload};default:return t}},Y=()=>{const[t,o]=u.useState(null),N=localStorage.getItem("AppID"),[n,c]=u.useReducer(B,U);return u.useEffect(()=>{(async()=>{try{const s=await fetch(`${E.BACKEND_URL}/api/admin/order-filter?filterBy=Completed&page=${n.page}&limit=${n.limit}`,{method:"GET",headers:{"Content-type":"application/json",Authorization:`Bearer ${N}`}});s.ok||L.error("can't get orders data");const m=await s.json();o(m.responseData)}catch(s){console.log(s)}})()},[n.page,n.limit]),t&&!t.length?e.createElement("span",{className:"block lg:mt-20 text-center font-medium text-neutral-500"},"Oops! There's no data to show right now. It looks like no orders are available ðŸ˜Š"):e.createElement("div",{className:"w-full"},e.createElement(I,{richColors:!0}),e.createElement(y,null,e.createElement(A,null,"."),e.createElement(_,null,e.createElement(d,null,e.createElement(i,{className:"w-[300px]"},"Order Id"),e.createElement(i,null,"Status"),e.createElement(i,null,"Payment Method"),e.createElement(i,{className:"text-right"},"Amount"),e.createElement(i,{className:"text-right"},"Order Date"))),e.createElement(w,null,t&&t.map((a,s)=>{const m=new Date(a.createdAt),f=String(m.getDate()).padStart(2,"0"),h=String(m.getMonth()+1).padStart(2,"0"),P=m.getFullYear(),T=`${f}/${h}/${P}`;return e.createElement(d,{key:a._id},e.createElement(l,{className:"font-medium"},e.createElement(D,{to:`${E&&E.APP_URL}/dashboard/order/${a&&a._id}`},a.orderId)),e.createElement(l,null,e.createElement("span",{className:"text-orange-500 font-semibold"},a.orderStatus)),e.createElement(l,null,a.payment.method),e.createElement(l,{className:"text-right"},a.totalAmount),e.createElement(l,{className:"text-right"},T),e.createElement(l,{className:"text-right"},e.createElement(C,null,e.createElement(S,null,e.createElement(k,null)),e.createElement(b,null,e.createElement(x,null,"Action"),e.createElement(M,null),e.createElement(g,{className:"cursor-pointer"},"View More"),e.createElement(g,{className:"text-red-400 hover:text-red-800 cursor-pointer"},"Delete")))))}))),e.createElement(G,null,e.createElement($,null,e.createElement(r,null,e.createElement(R,{className:"cursor-pointer",onClick:()=>{(n==null?void 0:n.page)==1||c({type:"FIRST_PAGE"})}})),e.createElement(r,null,e.createElement(p,{className:"cursor-pointer",isActive:!0,onClick:()=>{c({type:"SET_PAGE_NUM",payload:1})}},"1")),e.createElement(r,null,e.createElement(p,{className:"cursor-pointer",isActive:!0,onClick:()=>{c({type:"SET_PAGE_NUM",payload:2})}},"2")),e.createElement(r,null,e.createElement(p,{className:"cursor-pointer",isActive:!0,onClick:()=>{c({type:"SET_PAGE_NUM",payload:3})}},"3")),e.createElement(r,null,e.createElement(v,null)),e.createElement(r,null,e.createElement(O,{className:"cursor-pointer",onClick:()=>{c({type:"INC_PAGE"})}})))))};export{Y as default};
