import{T as P,b as w,c as d,d as s,e as D,f as l}from"./table-D59fVxqX.js";import{r as i,R as e,N as g,_ as p,D as y,b as A,c as T,d as _,e as b,f as C}from"./index-CqUjVgox.js";import{T as x}from"./sonner-iBYa7rjY.js";import{w as f}from"./index-DLdLSjkK.js";import{E as M,P as R,a as k,b as E,c as S,d as G,f as I}from"./pagination-CBf_EoO0.js";import"./chevron-left-Dv4wvR6C.js";const $={page:1,limit:10},L=(r,c)=>{switch(c.type){case"SET_PAGE":return{...r,page:c.payload};case"INC_PAGE":return{...r,page:r.page+1};case"DEC_PAGE":return{...r,page:Math.max(r.page-1,1)};default:return r}},H=()=>{const[r,c]=i.useState([]),[m,h]=i.useState(1),N=localStorage.getItem("AppID"),[n,u]=i.useReducer(L,$);return i.useEffect(()=>{(async()=>{try{const a=await fetch(`${p.BACKEND_URL}/api/admin/order-filter?filterBy=Refunded&page=${n.page}&limit=${n.limit}`,{method:"GET",headers:{"Content-type":"application/json",Authorization:`Bearer ${N}`}});if(!a.ok){f.error("Can't get orders data");return}const o=await a.json();c(o.responseData),h(Math.ceil(o.responseData.length/n.limit))}catch(a){console.log(a),f.error("Failed to fetch data")}})()},[n.page,n.limit]),e.createElement("div",{className:"w-full"},e.createElement(x,{richColors:!0}),r.length===0?e.createElement("span",{className:"block lg:mt-20 text-center font-medium text-neutral-500"},"Oops! There's no data to show right now. ğŸ˜Š"):e.createElement(e.Fragment,null,e.createElement(P,null,e.createElement(w,null,e.createElement(d,null,e.createElement(s,{className:"w-[300px]"},"Order Id"),e.createElement(s,null,"Status"),e.createElement(s,null,"Payment Method"),e.createElement(s,{className:"text-right"},"Amount"),e.createElement(s,{className:"text-right"},"Order Date"))),e.createElement(D,null,r.map(t=>{var o;const a=new Date(t.createdAt).toLocaleDateString("en-GB");return e.createElement(d,{key:t._id},e.createElement(l,{className:"font-medium"},e.createElement(g,{to:`${p.APP_URL}/dashboard/order/${t._id}`},t.orderId)),e.createElement(l,null,e.createElement("span",{className:"text-orange-500 font-semibold"},t.orderStatus)),e.createElement(l,null,(o=t==null?void 0:t.payment)==null?void 0:o.method),e.createElement(l,{className:"text-right"},t.totalAmount),e.createElement(l,{className:"text-right"},a),e.createElement(l,{className:"text-right"},e.createElement(y,null,e.createElement(A,null,e.createElement(M,null)),e.createElement(T,null,e.createElement(_,null,"Action"),e.createElement(b,null),e.createElement(C,{className:"cursor-pointer"},e.createElement(g,{to:`${p.APP_URL}/dashboard/order/${t._id}`},"View More"))))))}))),m>1&&e.createElement(R,null,e.createElement(k,null,e.createElement(E,null,e.createElement(S,{className:n.page===1?"cursor-not-allowed opacity-50":"cursor-pointer",onClick:()=>n.page>1&&u({type:"DEC_PAGE"})})),[...Array(m)].map((t,a)=>e.createElement(E,{key:a},e.createElement(G,{className:"cursor-pointer",isActive:n.page===a+1,onClick:()=>u({type:"SET_PAGE",payload:a+1})},a+1))),e.createElement(E,null,e.createElement(I,{className:n.page===m?"cursor-not-allowed opacity-50":"cursor-pointer",onClick:()=>n.page<m&&u({type:"INC_PAGE"})}))))))};export{H as default};
