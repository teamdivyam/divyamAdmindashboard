import{r as u,j as N}from"./react-BM40__SY.js";import{d as U}from"./detect-element-overflow-Bqx90j58.js";import{w as V}from"./warning-5T6J0T5c.js";var f=function(){return f=Object.assign||function(e){for(var r,i=1,t=arguments.length;i<t;i++){r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},f.apply(this,arguments)},Q=function(e,r){var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(i[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)r.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(i[t[a]]=e[t[a]]);return i},Y=typeof document<"u",Z=Y&&"MutationObserver"in window;function z(e){return e.charAt(0).toUpperCase()+e.slice(1)}function _(e){for(var r=e.parentElement;r;){var i=window.getComputedStyle(r).overflow;if(i.split(" ").every(function(t){return t==="auto"||t==="scroll"}))return r;r=r.parentElement}return document.documentElement}function X(e){var r=e.axis,i=e.container,t=e.element,a=e.invertAxis,p=e.scrollContainer,y=e.secondary,c=e.spacing,m=window.getComputedStyle(t),o=i.parentElement;if(!o)return;var w=U(o,p),g=U(o,document.documentElement),v=r==="x",s=v?"left":"top",x=v?"right":"bottom",h=v?"width":"height",n="overflow".concat(z(s)),l="overflow".concat(z(x)),S="scroll".concat(z(s)),E=z(h),O="offset".concat(E),b="client".concat(E),A="min-".concat(h),q=p[O]-p[b],D=typeof c=="object"?c[s]:c,P=-Math.max(w[n],g[n]+document.documentElement[S])-D,G=typeof c=="object"?c[x]:c,C=-Math.max(w[l],g[l]-document.documentElement[S])-G-q;y&&(P+=o[b],C+=o[b]);var J=t[O];function R(){t.style[s]="auto",t.style[x]=y?"0":"100%"}function I(){t.style[s]=y?"0":"100%",t.style[x]="auto"}function W(F,j){var d=J<=F;return d&&j(),d}function H(){return W(P,R)}function k(){return W(C,I)}function K(){var F=P>C,j=m.getPropertyValue(A),d=j?parseInt(j,10):null;function B(T){V(!d||T>=d,"<Fit />'s child will not fit anywhere with its current ".concat(A," of ").concat(d,"px."));var L=Math.max(T,d||0);V(!1,"<Fit />'s child needed to have its ".concat(h," decreased to ").concat(L,"px.")),t.style[h]="".concat(L,"px")}F?(B(P),R()):(B(C),I())}var M;a?M=H()||k():M=k()||H(),M||K()}function $(e){X(e)}function ee(e){X(f(f({},e),{axis:e.axis==="x"?"y":"x",secondary:!0}))}function te(e){var r=e.invertAxis,i=e.invertSecondaryAxis,t=Q(e,["invertAxis","invertSecondaryAxis"]);$(f(f({},t),{invertAxis:r})),ee(f(f({},t),{invertAxis:i}))}function ae(e){var r=e.children,i=e.invertAxis,t=e.invertSecondaryAxis,a=e.mainAxis,p=a===void 0?"y":a,y=e.spacing,c=y===void 0?8:y,m=u.useRef(void 0),o=u.useRef(void 0),w=u.useRef(void 0),g=u.useRef(void 0),v=u.useRef(void 0),s=u.useCallback(function(){if(!(!v.current||!m.current||!o.current)){var n=o.current.clientWidth,l=o.current.clientHeight;if(!(w.current===n&&g.current===l)){w.current=n,g.current=l;var S=m.current.parentElement;if(S){var E=window.getComputedStyle(o.current),O=E.position;O!=="absolute"&&(o.current.style.position="absolute");var b=window.getComputedStyle(S),A=b.position;A!=="relative"&&A!=="absolute"&&(S.style.position="relative"),te({axis:p,container:m.current,element:o.current,invertAxis:i,invertSecondaryAxis:t,scrollContainer:v.current,spacing:c})}}}},[i,t,p,c]),x=u.Children.only(r);u.useEffect(function(){s();function n(){s()}if(Z&&o.current){var l=new MutationObserver(n);l.observe(o.current,{attributes:!0,attributeFilter:["class","style"]})}},[s]);function h(n){!n||!(n instanceof HTMLElement)||(o.current=n,v.current=_(n))}return N.jsx("span",{ref:function(n){if(n){m.current=n;var l=n==null?void 0:n.firstElementChild;h(l)}},style:{display:"contents"},children:x})}export{ae as F};
