import{T as _,a as y,b as C,c as g,d as i,e as D,f as n}from"./table-D59fVxqX.js";import{r as E,R as e,N as w,_ as u,D as S,b,c as x,d as I,e as M,f as N}from"./index-CqUjVgox.js";import{T as k}from"./sonner-iBYa7rjY.js";import{w as G}from"./index-DLdLSjkK.js";import{E as R,P as $,a as v,b as r,c as L,d as p,e as O,f as U}from"./pagination-CBf_EoO0.js";import"./chevron-left-Dv4wvR6C.js";const B={page:1,limit:17},F=(t,c)=>{switch(c.type){case"FIRST_PAGE":return{...t,page:t.page=1};case"SET_PAGE_NUM":return{...t,page:c.payload};case"INC_PAGE":return{...t,page:t.page+1};case"DEC_PAGE":return{...t,page:t.page-1};case"SET_PAGE_LIMIT":return{...t,limit:c.payload};default:return t}},Y=()=>{const[t,c]=E.useState(null),f=localStorage.getItem("AppID"),[l,o]=E.useReducer(F,B);return E.useEffect(()=>{(async()=>{try{const s=await fetch(`${u.BACKEND_URL}/api/admin/order-filter?filterBy=CANCELLATION_REQUESTED&page=${l.page}&limit=${l.limit}`,{method:"GET",headers:{"Content-type":"application/json",Authorization:`Bearer ${f}`}});s.ok||G.error("can't get orders data");const m=await s.json();c(m.responseData)}catch(s){console.log(s)}})()},[l.page,l.limit]),t&&!t.length?e.createElement("span",{className:"block lg:mt-20 text-center font-medium text-neutral-500"},"Oops! There's no data to show right now. It looks like no orders are available ðŸ˜Š"):e.createElement("div",{className:"w-full"},e.createElement(k,{richColors:!0}),e.createElement(_,null,e.createElement(y,null,"."),e.createElement(C,null,e.createElement(g,null,e.createElement(i,{className:"w-[300px]"},"Order Id"),e.createElement(i,null,"Status"),e.createElement(i,null,"Payment Method"),e.createElement(i,{className:"text-right"},"Amount"),e.createElement(i,{className:"text-right"},"Order Date"))),e.createElement(D,null,t&&t.map((a,s)=>{var d;const m=new Date(a.createdAt),h=String(m.getDate()).padStart(2,"0"),T=String(m.getMonth()+1).padStart(2,"0"),A=m.getFullYear(),P=`${h}/${T}/${A}`;return e.createElement(g,{key:a._id},e.createElement(n,{className:"font-medium"},e.createElement(w,{to:`${u&&u.APP_URL}/dashboard/order/${a&&a._id}`},a.orderId)),e.createElement(n,null,e.createElement("span",{className:"text-orange-500 font-semibold"},a.orderStatus)),e.createElement(n,null,a&&((d=a==null?void 0:a.payment)==null?void 0:d.method)),e.createElement(n,{className:"text-right"},a.totalAmount),e.createElement(n,{className:"text-right"},P),e.createElement(n,{className:"text-right"},e.createElement(S,null,e.createElement(b,null,e.createElement(R,null)),e.createElement(x,null,e.createElement(I,null,"Action"),e.createElement(M,null),e.createElement(N,{className:"cursor-pointer"},"View More"),e.createElement(N,{className:"text-red-400 hover:text-red-800 cursor-pointer"},"Delete")))))}))),e.createElement($,null,e.createElement(v,null,e.createElement(r,null,e.createElement(L,{className:"cursor-pointer",onClick:()=>{(l==null?void 0:l.page)==1||o({type:"FIRST_PAGE"})}})),e.createElement(r,null,e.createElement(p,{className:"cursor-pointer",isActive:!0,onClick:()=>{o({type:"SET_PAGE_NUM",payload:1})}},"1")),e.createElement(r,null,e.createElement(p,{className:"cursor-pointer",isActive:!0,onClick:()=>{o({type:"SET_PAGE_NUM",payload:2})}},"2")),e.createElement(r,null,e.createElement(p,{className:"cursor-pointer",isActive:!0,onClick:()=>{o({type:"SET_PAGE_NUM",payload:3})}},"3")),e.createElement(r,null,e.createElement(O,null)),e.createElement(r,null,e.createElement(U,{className:"cursor-pointer",onClick:()=>{o({type:"INC_PAGE"})}})))))};export{Y as default};
