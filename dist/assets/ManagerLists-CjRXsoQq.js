import{r as l,a as e}from"./react-BM40__SY.js";import{P as b,a as P,b as o,c as w,d as E,e as x,f as D}from"./pagination-D2K3nF_G.js";import{S as M,a as C,b as v,c as G,d}from"./select-Cd5bAGBT.js";import{T as I,b as k,c as N,d as u,e as $,f as c}from"./table-DQqYmbkR.js";import{D as L,a as R,b as U,c as F,d as j,e as V,_ as B}from"./index-fHwZLE-T.js";import{E as H}from"./lucide-react-BWZ2dPnB.js";import{a as S}from"./react-router-DRLUvzUh.js";import"./attr-accept-CkmCM30I.js";import"./@radix-ui-Bvz2HI7m.js";import"./react-remove-scroll-DR3rXkvR.js";import"./tslib-eMSY344_.js";import"./react-remove-scroll-bar-BhARyL5A.js";import"./react-style-singleton-DeLYGn6u.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-CISbmOY4.js";import"./use-callback-ref-Bp38XRF0.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-dom-BKOhnANa.js";import"./scheduler-C323NY8X.js";import"./@floating-ui-DHl6l98I.js";import"./class-variance-authority-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-D696Ktp4.js";import"./react-google-recaptcha-C2_uU7Xm.js";import"./prop-types-DFk7-3jw.js";import"./react-async-script-BL5K2liq.js";import"./hoist-non-react-statics-CPzswhKp.js";import"./react-is-CnyDuYXe.js";import"./@hookform-D0jWCfUg.js";import"./react-hook-form-BN_naEWj.js";import"./yup-DazPcaNu.js";import"./property-expr-DwgEMw67.js";import"./tiny-case-Gl8mQWqo.js";import"./toposort-tjHGMS6M.js";import"./react-redux-DNfLtVbP.js";import"./use-sync-external-store-H6R0MgJP.js";import"./@reduxjs-DtXgGc0i.js";import"./redux-BXkGT1VS.js";import"./immer-DqxjFn0G.js";import"./redux-thunk-ClJT1hhx.js";import"./jwt-decode-VWaDGczM.js";import"./sonner-CBLC4ypc.js";import"./recharts-BSzae8HI.js";import"./lodash-DiYzGN5e.js";import"./tiny-invariant-BaFNuDhB.js";import"./d3-shape-nwul2LtV.js";import"./d3-path-CimkQT29.js";import"./react-smooth-DYD8lKML.js";import"./fast-equals-BIyco3rD.js";import"./victory-vendor-eFgrrWDw.js";import"./d3-scale-DCNNTN8k.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-g_qRI3rN.js";import"./d3-time-format-j2_s_XYn.js";import"./d3-time-g9mLz1m7.js";import"./d3-interpolate-CvRPKVI0.js";import"./d3-color-9lF95FHy.js";import"./d3-format-CzD4bSOQ.js";import"./recharts-scale-CEDTliZZ.js";import"./decimal.js-light-ZKFLnszB.js";import"./eventemitter3-BRe_pui0.js";import"./cookie--_YQFYBD.js";const K={page:1,limit:18},O=(t,m)=>{switch(m.type){case"FIRST_PAGE":return{...t,page:t.page=1};case"SET_PAGE_NUM":return{...t,page:m.payload};case"INC_PAGE":return{...t,page:t.page+1};case"DEC_PAGE":return{...t,page:t.page-1};case"SET_PAGE_LIMIT":return{...t,limit:m.payload};default:return t}},at=()=>{const[t,m]=l.useState(null),[z,g]=l.useState(!1),[J,f]=l.useState(!0),A=localStorage.getItem("AppID"),[n,i]=l.useReducer(O,K),[s,T]=l.useState("manager");return l.useEffect(()=>{(async()=>{try{const r=await fetch(`${B.BACKEND_URL}/api/admin/employees?role=${s}&page=${n.page}&limit=${n.limit}`,{method:"GET",headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json",Accept:"application/json, application/xml","Accept-Language":"en_US"}});r.ok||g(!0);const p=await r.json();p&&m(p)}catch{g(!0),f(!0)}})()},[s,n.page]),e.createElement("div",{className:"EmployeeLists max-w-[1200px] mx-auto"},e.createElement("div",{className:"flex gap-4 justify-end mb-4"},e.createElement(M,{className:"bg-yellow-300",value:s,onValueChange:a=>{T(a)}},e.createElement(C,{className:"w-[180px] bg-orange-100 border-none shadow-none text-gray-700"},e.createElement(v,{placeholder:"Select employee"})),e.createElement(G,null,e.createElement(d,{value:"manager"},"Manager"),e.createElement(d,{value:"supervisor"},"Supervisor")))),t&&!t.length?e.createElement("div",{className:"text-center block mt-12 font-medium text-neutral-400"},`Oops! There are no ${s} yet. Try adding one`):e.createElement(e.Fragment,null,e.createElement(I,null,e.createElement(k,null,e.createElement(N,null,e.createElement(u,{className:"w-[300px]"},"Manager Name"),e.createElement(u,null,"Mobile number"),e.createElement(u,null,"Gender"),e.createElement(u,{className:"text-right"},"Joined date"))),e.createElement($,null,t&&t.length>0?t.map(a=>{const r=new Date(a.createdAt),p=String(r.getDate()).padStart(2,"0"),h=String(r.getMonth()+1).padStart(2,"0"),_=r.getFullYear(),y=`${p}/${h}/${_}`;return e.createElement(N,{key:a._id},e.createElement(c,{className:"font-medium"},e.createElement(S,{to:`${a._id}`},e.createElement("span",null," ",a.fullName))),e.createElement(c,null,e.createElement("span",null,a.mobileNum)),e.createElement(c,{className:"text-left"},e.createElement("span",null,a.gender)),e.createElement(c,{className:"text-right"},e.createElement("span",null," ",y)),e.createElement(c,{className:"text-right"},e.createElement(L,null,e.createElement(R,null,e.createElement(H,null)),e.createElement(U,null,e.createElement(F,null,"Action"),e.createElement(j,null),e.createElement(V,{className:"cursor-pointer"},e.createElement(S,{to:a.id},"View More"))))))}):null))),t&&t.length>10?e.createElement(e.Fragment,null,e.createElement(b,null,e.createElement(P,null,e.createElement(o,null,e.createElement(w,{className:"cursor-pointer",onClick:()=>{(n==null?void 0:n.page)==1||i({type:"FIRST_PAGE"})}})),e.createElement(o,null,e.createElement(E,{className:"cursor-pointer",isActive:!0,onClick:()=>{i({type:"SET_PAGE_NUM",payload:1})}},"1")),e.createElement(o,null,e.createElement(E,{className:"cursor-pointer",isActive:!0,onClick:()=>{i({type:"SET_PAGE_NUM",payload:2})}},"2")),e.createElement(o,null,e.createElement(E,{className:"cursor-pointer",isActive:!0,onClick:()=>{i({type:"SET_PAGE_NUM",payload:3})}},"3")),e.createElement(o,null,e.createElement(x,null)),e.createElement(o,null,e.createElement(D,{className:"cursor-pointer",onClick:()=>{i({type:"INC_PAGE"})}}))))):null)};export{at as default};
